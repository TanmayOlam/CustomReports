<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="DealRegSummary" language="groovy" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="5b8661c4-e032-4943-93a3-641ce4ac0722">
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="ireport.zoom" value="1.1000000000000063"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<property name="net.sf.jasperreports.export.xls.font.size.fix.enabled" value="false"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="OLAM_4.7"/>
	<property name="net.sf.jasperreports.export.pdf.size.page.to.content" value="true"/>
	<property name="net.sf.jasperreports.export.xls.exclude.origin.keep.first.band.1" value="columnHeader"/>
	<property name="net.sf.jasperreports.export.xls.fit.width" value="1"/>
	<property name="net.sf.jasperreports.export.xls.ignore.cell.border" value="false"/>
	<property name="net.sf.jasperreports.export.xls.fit.height" value="0"/>
	<property name="net.sf.jasperreports.export.xls.ignore.graphics" value="false"/>
	<property name="net.sf.jasperreports.export.xls.collapse.row.span" value="false"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<property name="net.sf.jasperreports.style.evaluation.time.enabled" value="true"/>
	<property name="net.sf.jasperreports.export.xls.detect.cell.type" value="true"/>
	<property name="net.sf.jasperreports.export.xlsx.exclude.origin.band.2" value="pageFooter"/>
	<property name="ireport.jasperserver.reportUnit" value="/1_ReportJan18/Deal_Register_Report"/>
	<property name="ireport.jasperserver.url" value="http://localhost:8080/jasperserver/services/repository"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 1">
		<box>
			<pen lineWidth="1.0" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 1_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 1_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 1_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 2">
		<box>
			<pen lineWidth="1.0" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 2_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 2_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 2_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 3">
		<box>
			<pen lineWidth="1.0" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 3_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 3_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 3_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 4">
		<box>
			<pen lineWidth="1.0" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 4_TH" mode="Opaque" backcolor="#73B0E6">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 4_CH" mode="Opaque" backcolor="#CFDBE6">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 4_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 5">
		<box>
			<pen lineWidth="1.0" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 5_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 5_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 5_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 6">
		<box>
			<pen lineWidth="1.0" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 6_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 6_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 6_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 7">
		<box>
			<pen lineWidth="1.0" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 7_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 7_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 7_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 8">
		<box>
			<pen lineWidth="1.0" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 8_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 8_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 8_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 9">
		<box>
			<pen lineWidth="1.0" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 9_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 9_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 9_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 10">
		<box>
			<pen lineWidth="1.0" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 10_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 10_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<style name="table 10_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#1F497D"/>
		</box>
	</style>
	<subDataset name="dealregsummary" uuid="11348922-4e8b-433e-a3d3-17e886aff581">
		<parameter name="date_from" class="java.util.Date">
			<defaultValueExpression><![CDATA[new SimpleDateFormat("yyyy-MM-dd").format(java.util.Date.parse(MONTH(NOW( ))-1 + "/1/" + YEAR(NOW())))]]></defaultValueExpression>
		</parameter>
		<parameter name="date_to" class="java.util.Date">
			<defaultValueExpression><![CDATA[new java.util.Date()-1]]></defaultValueExpression>
		</parameter>
		<parameter name="company_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[$P{company_p}]]></defaultValueExpression>
		</parameter>
		<parameter name="contract_book_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="profit_center_group_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="profit_center_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="strategy_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="trader_group_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="trader_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="counterparty_group_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="broker_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="payment_term_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="contract_term_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="price_currency_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="commodity_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="ship_month_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="contract_status_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="counterparty_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="LE_Filter" class="java.lang.String">
			<defaultValueExpression><![CDATA[$P{LE_Filter}]]></defaultValueExpression>
		</parameter>
		<parameter name="QSTR_Filter" class="java.lang.String">
			<defaultValueExpression><![CDATA[" AND CTRBOOKCODE IN ('" + $P{LE_Filter} + "')"]]></defaultValueExpression>
		</parameter>
		<parameter name="ctrtype" class="java.util.Collection"/>
		<queryString>
			<![CDATA[SELECT COMP.MBRNAME                                                                                         AS COMPANY,
       CASE
         WHEN BVCP.CONTRACT_QTY - AL.ALLOCATION_QTY = 0
               AND CASE WHEN UPPER(BVCP.GROSS_NET_WEIGHT) = 'NET' THEN AL.NET_LOAD_QTY ELSE AL.GROSS_LOAD_QTY END - SS.INVOICE_QTY = 0 THEN 'Billed'
         ELSE BVCP.CONTRACT_STATUS
       END                                                                                       AS CONTRACT_STATUS,
       PROFIT_CENTER,
       COMMODITY,
       LONG_SHORT,


	   /**added newcoluman start**/

	   (CONTRACT_STATUS + '-' + PROFIT_CENTER+' '+COMMODITY+' '+LONG_SHORT) AS GroupOfCtr_Status_Proft_Center_Producat_Role ,
	   /* End */


       BVCP.CONTRACT_TYPE,
      CASE
         WHEN CPY.reference3 IS NULL or CPY.reference3 = '' THEN CPY.MBRSHORTNAME
                     ELSE CPY.reference3
       END AS COUNTERPARTY,
       SHIP_MONTH,
       GRADE,
       CONTRACT_REFERENCE,
       CONTRACT_DATE,
       BVCP.ORIGIN,
       UNLOAD_PORT,
       CASE
         WHEN LONG_SHORT = 'Short' THEN -CONTRACT_QTY
         ELSE CONTRACT_QTY
       END                                                                                                  AS CONTRACT_QTY,
       INCOTERM,
       BASIS_WEIGHT,
       PT.PAYTERMCODE                                                                                       AS PAYMENT_TERM,
       BVCP.PRICE_TERM,
       CASE
         WHEN BVCP.PRICE_TERM = 'Fixed' THEN 'No'
         ELSE BASIS.PRICEBASISNAME
       END                                                                                                  AS PRICING_TYPE,
       BVCP.FUTURE_TERM,
       CC.INITPRICE,
       CASE
         WHEN CC.DENOMID IS NOT NULL THEN CC.DENOMID
         ELSE CC.CURRENCYID
       END                                                                                                  AS PRICE_CURRENCY,
       PRICE_UOM,
       BROKER,
       BVCP.BROKER_REFERENCE,
       NULLIF(COALESCE(COST.FREIGHT_ACTUAL_PRICE, COST.FREIGHT_REPROV_PRICE, COST.FREIGHT_BUDGET_PRICE), 0) AS UNIT_FREIGHT,
       NULLIF(COALESCE(COST.COMM_ACTUAL_PRICE, COST.COMM_REPROV_PRICE, COST.COMM_BUDGET_PRICE), 0)          AS UNIT_COMMISSION,
       NULLIF(COALESCE(COST.OTHER_ACTUAL_PRICE, COST.OTHER_REPROV_PRICE, COST.OTHER_BUDGET_PRICE), 0)       AS UNIT_OTHER_COST,
       TRADER,
       JU.FIRST_NAME + ' ' + JU.LAST_NAME                                                                   AS CREATED,
       BVCP.CONTRACT_UOM,
       CC.FINANCIALCURRENCY AS CONTRACT_CURRENCY,
	   REPLACE(CONVERT(VARCHAR(11), CC.CreateTime, 106), ' ', '-')  + ' '
       + LTRIM(RIGHT(CONVERT(CHAR(20), CC.CreateTime, 22), 11))as CONTRACT_ENTRY_DATE,
JCS.CROPSEASONCODE AS CROPSEASON

FROM   BI_VIEW_CONTRACT_PHYSICAL BVCP
       JOIN JCMBR COMP
         ON BVCP.COMPANYID = COMP.MBRID
       JOIN BI_VIEW_COUNTERPARTY CP
         ON BVCP.COUNTERPARTYID = CP.CPID
       JOIN BI_VIEW_CONTRACT_BOOK CB
         ON CB.CTRBOOKID = BVCP.CTRBOOKID
       LEFT JOIN BI_VIEW_PRICING PR
              ON BVCP.CTRID = PR.CTRID
       LEFT JOIN (SELECT BA.P_CTRID,
                         Sum(BA.ALLOCATION_QTY) AS ALLOCATION_QTY,
                         Sum(cm.NET_LOAD_QTY)       AS NET_LOAD_QTY,
						 SUM(CM.GROSS_LOAD_QTY) AS GROSS_LOAD_QTY
                  FROM   BI_VIEW_ALLOCATION BA
                         LEFT JOIN (SELECT
										LD.CTRID
										, CM.ALLOCATION_ID
										, Sum(LD.LOAD_NET_WEIGHT)       AS NET_LOAD_QTY
										, Sum(LD.LOAD_QTY)       AS GROSS_LOAD_QTY
									FROM BI_VIEW_CONTRACT_MOVEMENT CM
										LEFT JOIN BI_VIEW_LOAD_DETAILS LD ON CM.MOVEMENT_ID = LD.MOVEMENT_ID
								GROUP BY LD.CTRID
										, CM.ALLOCATION_ID
						) CM ON CM.CTRID = BA.P_CTRID
							AND CM.ALLOCATION_ID = BA.ALLOCATION_ID

                  WHERE  ALLOCATION_TYPE NOT LIKE '%Open%'
                  GROUP  BY BA.P_CTRID) AL
              ON BVCP.CTRID = AL.P_CTRID
       LEFT JOIN (SELECT CTRID,
                         Sum(CASE
                               WHEN COSTTYPEID = 5 THEN ACTUAL_UNIT_PRICE
                               ELSE NULL
                             END) FREIGHT_ACTUAL_PRICE,
                         Sum(CASE
                               WHEN COSTTYPEID = 5 THEN BUDGET_UNIT_PRICE
                               ELSE NULL
                             END) FREIGHT_BUDGET_PRICE,
                         Sum(CASE
                               WHEN COSTTYPEID = 5 THEN REPROV_UNIT_COST
                               ELSE NULL
                             END) FREIGHT_REPROV_PRICE,
                         Sum(CASE
                               WHEN COSTTYPEID = 6 THEN ACTUAL_UNIT_PRICE
                               ELSE NULL
                             END) COMM_ACTUAL_PRICE,
                         Sum(CASE
                               WHEN COSTTYPEID = 6 THEN BUDGET_UNIT_PRICE
                               ELSE NULL
                             END) COMM_BUDGET_PRICE,
                         Sum(CASE
                               WHEN COSTTYPEID = 6 THEN REPROV_UNIT_COST
                               ELSE NULL
                             END) COMM_REPROV_PRICE,
                         Sum(CASE
                               WHEN COSTTYPEID <> 5
                                    AND COSTTYPEID <> 6 THEN ACTUAL_UNIT_PRICE
                               ELSE NULL
                             END) OTHER_ACTUAL_PRICE,
                         Sum(CASE
                               WHEN COSTTYPEID <> 5
                                    AND COSTTYPEID <> 6 THEN BUDGET_UNIT_PRICE
                               ELSE NULL
                             END) OTHER_BUDGET_PRICE,
                         Sum(CASE
                               WHEN COSTTYPEID <> 5
                                    AND COSTTYPEID <> 6 THEN REPROV_UNIT_COST
                               ELSE NULL
                             END) OTHER_REPROV_PRICE,
                         Sum(CASE
                               WHEN COSTTYPEID = 3 THEN BUDGET_UNIT_PRICE
                               ELSE NULL
                             END) UNIT_TAX,
                         Sum(CASE
                               WHEN COSTTYPEID = 4
                                     OR ( COSTTYPEID >= 12
                                          AND COSTTYPEID <= 18 ) THEN BUDGET_UNIT_PRICE
                               ELSE NULL
                             END) UNIT_PREMDISC
                  FROM   BI_VIEW_ADDITIONAL_COST
                  WHERE  INSTRUMENT_TYPE = 'Physical'
                         AND COSTTYPEID <> 7
                  GROUP  BY CTRID) COST
              ON ( BVCP.CTRID = COST.CTRID )
       JOIN VIEW_COUNTERPARTIES VCP
         ON BVCP.CTRID = VCP.CTRID
       LEFT JOIN JCMBR CPY
              ON VCP.COUNTERPARTY = CPY.MBRID
       LEFT JOIN JCPAYTERMS PT
              ON BVCP.PAYTERMID = PT.PAYTERMID
       JOIN CTR CC
         ON BVCP.CTRID = CC.CTRID


		 ---test ---
		LEFT JOIN JCCROPSEASON JCS  ON CC.CROPSEASON=JCS.CROPSEASONID
       JOIN JC_USER JU
         ON CC.CREATEBY = JU.ID
       JOIN XSPRICEBASIS BASIS
         ON CC.PRICEBASISID = BASIS.PRICEBASISID
       LEFT JOIN (SELECT SD.CTRID,
                         Sum(SL.INVOICE_QTY) AS INVOICE_QTY
                  FROM   BI_VIEW_SETTLEMENT_DETAILS SD
                         JOIN BI_VIEW_SETTLEMENT_LINE_ITEM_DETAILS SL
                           ON SD.INVOICE_ID = SL.INVOICE_ID
                              AND SD.PAYABLE_RECEIVABLE = SL.PAYABLE_RECEIVABLE

							--  LEFT JOIN JCCROPSEASON JCS  ON CC.CROPSEASON=JCS.CROPSEASONID
                  GROUP  BY SD.CTRID) SS
              ON BVCP.CTRID = SS.CTRID
       LEFT JOIN JCGRPTRADERUSER GTU
              ON BVCP.TRADERID = GTU.USRID
       LEFT JOIN JCGRPTRADER GT
              ON GTU.GROUPID = GT.GROUPID

WHERE CONTRACT_DATE >= $P{date_from}
	AND CONTRACT_DATE <= $P{date_to}
	AND LONG_SHORT = 'Long'
	AND $X{IN,COMPANY,company_p}
	And $X{IN, CONTRACT_BOOK, contract_book_p}
	And $X{IN, PROFIT_CENTER_GROUP, profit_center_group_p}
	And $X{IN, PROFIT_CENTER, profit_center_p}
	And $X{IN, STRATEGY, strategy_p}
	And $X{IN, GT.NAME, trader_group_p}
	And $X{IN, TRADER, trader_p}
	And $X{IN, COUNTERPARTY_GROUP, counterparty_group_p}
	And $X{IN, MBRSHORTNAME, counterparty_p}
	And $X{IN, BROKER, broker_p}
	And $X{IN, PAYMENT_TERM, payment_term_p}
	And $X{IN, CONTRACT_TERM, contract_term_p}
	And $X{IN, PRICE_CURRENCY, price_currency_p}
	And $X{IN, COMMODITY, commodity_p}
	And $X{IN, SHIP_MONTH, ship_month_p}
     AND $X{IN, BVCP.CONTRACT_STATUS, contract_status_p}

	 AND $X{IN, BVCP.CONTRACT_TYPE, ctrtype}
     $P!{QSTR_Filter}
UNION
SELECT COMP.MBRNAME                                                                              AS COMPANY,
       CASE
         WHEN BVCP.CONTRACT_QTY - AL.ALLOCATION_QTY = 0
               AND CASE WHEN UPPER(BVCP.GROSS_NET_WEIGHT) = 'NET' THEN AL.NET_LOAD_QTY ELSE AL.GROSS_LOAD_QTY END - SS.INVOICE_QTY = 0 THEN 'Billed'
         ELSE BVCP.CONTRACT_STATUS
       END                                                                                       AS CONTRACT_STATUS,
       PROFIT_CENTER,
       COMMODITY,
       LONG_SHORT,

	   /**added newcoluman start**/

	   (CONTRACT_STATUS + '-' + PROFIT_CENTER+' '+COMMODITY+' '+LONG_SHORT) AS GroupOfCtr_Status_Proft_Center_Producat_Role ,
	   /* End */


       BVCP.CONTRACT_TYPE,
        CASE
         WHEN CPY.reference3 IS NULL or CPY.reference3 = '' THEN CPY.MBRSHORTNAME
                     ELSE CPY.reference3
       END AS COUNTERPARTY,
       SHIP_MONTH,
       GRADE,
       CONTRACT_REFERENCE,
       CONTRACT_DATE,
       BVCP.ORIGIN,
       UNLOAD_PORT,
       CASE
         WHEN LONG_SHORT = 'Short' THEN -CONTRACT_QTY
         ELSE CONTRACT_QTY
       END                                                                                       CONTRACT_QTY,
       INCOTERM,
       BASIS_WEIGHT,
       PT.PAYTERMCODE                                                                            AS PAYMENT_TERM,
       BVCP.PRICE_TERM,
       CASE
         WHEN BVCP.PRICE_TERM = 'Fixed' THEN 'No'
         ELSE BASIS.PRICEBASISNAME
       END                                                                                       AS PRICING_TYPE,
       BVCP.FUTURE_TERM,
       CC.INITPRICE,
       CASE
         WHEN CC.DENOMID IS NOT NULL THEN CC.DENOMID
         ELSE CC.CURRENCYID
       END                                                                                       AS PRICE_CURRENCY,
       PRICE_UOM,
       BROKER,
       BVCP.BROKER_REFERENCE,
       COALESCE(COST.FREIGHT_ACTUAL_PRICE, COST.FREIGHT_REPROV_PRICE, COST.FREIGHT_BUDGET_PRICE) AS UNIT_FREIGHT,
       COALESCE(COST.COMM_ACTUAL_PRICE, COST.COMM_REPROV_PRICE, COST.COMM_BUDGET_PRICE)          AS UNIT_COMMISSION,
       COALESCE(COST.OTHER_ACTUAL_PRICE, COST.OTHER_REPROV_PRICE, COST.OTHER_BUDGET_PRICE)       AS UNIT_OTHER_COST,
       TRADER,
       JU.FIRST_NAME + ' ' + JU.LAST_NAME                                                        AS CREATED,
       BVCP.CONTRACT_UOM,
       CC.FINANCIALCURRENCY AS CONTRACT_CURRENCY,
	   REPLACE(CONVERT(VARCHAR(11), CC.CreateTime, 106), ' ', '-')  + ' '
       + LTRIM(RIGHT(CONVERT(CHAR(20), CC.CreateTime, 22), 11))as CONTRACT_ENTRY_DATE,
	   JsS.CROPSEASONCODE AS CROPSEASON
FROM   BI_VIEW_CONTRACT_PHYSICAL BVCP
       JOIN JCMBR COMP
         ON BVCP.COMPANYID = COMP.MBRID
       JOIN BI_VIEW_COUNTERPARTY CP
         ON BVCP.COUNTERPARTYID = CP.CPID
       JOIN BI_VIEW_CONTRACT_BOOK CB
         ON CB.CTRBOOKID = BVCP.CTRBOOKID
       LEFT JOIN BI_VIEW_PRICING PR
              ON BVCP.CTRID = PR.CTRID
       LEFT JOIN (SELECT BA.S_CTRID,
                         Sum(BA.ALLOCATION_QTY) AS ALLOCATION_QTY,
                         Sum(cm.NET_LOAD_QTY)       AS NET_LOAD_QTY,
						 SUM(CM.GROSS_LOAD_QTY) AS GROSS_LOAD_QTY
                  FROM   BI_VIEW_ALLOCATION BA
                         LEFT JOIN (SELECT
										LD.CTRID
										, CM.ALLOCATION_ID
										, Sum(LD.LOAD_NET_WEIGHT)       AS NET_LOAD_QTY
										, Sum(LD.LOAD_QTY)       AS GROSS_LOAD_QTY
									FROM BI_VIEW_CONTRACT_MOVEMENT CM
										LEFT JOIN BI_VIEW_LOAD_DETAILS LD ON CM.MOVEMENT_ID = LD.MOVEMENT_ID
								GROUP BY LD.CTRID
										, CM.ALLOCATION_ID
						) CM ON CM.CTRID = BA.S_CTRID
							AND CM.ALLOCATION_ID = BA.ALLOCATION_ID

                  WHERE  ALLOCATION_TYPE NOT LIKE '%Open%'
                  GROUP  BY BA.S_CTRID) AL
              ON BVCP.CTRID = AL.S_CTRID
       LEFT JOIN(SELECT CTRID,
                        Sum(CASE
                              WHEN COSTTYPEID = 5 THEN ACTUAL_UNIT_PRICE
                              ELSE NULL
                            END) FREIGHT_ACTUAL_PRICE,
                        Sum(CASE
                              WHEN COSTTYPEID = 5 THEN BUDGET_UNIT_PRICE
                              ELSE NULL
                            END) FREIGHT_BUDGET_PRICE,
                        Sum(CASE
                              WHEN COSTTYPEID = 5 THEN REPROV_UNIT_COST
                              ELSE NULL
                            END) FREIGHT_REPROV_PRICE,
                        Sum(CASE
                              WHEN COSTTYPEID = 6 THEN ACTUAL_UNIT_PRICE
                              ELSE NULL
                            END) COMM_ACTUAL_PRICE,
                        Sum(CASE
                              WHEN COSTTYPEID = 6 THEN BUDGET_UNIT_PRICE
                              ELSE NULL
                            END) COMM_BUDGET_PRICE,
                        Sum(CASE
                              WHEN COSTTYPEID = 6 THEN REPROV_UNIT_COST
                              ELSE NULL
                            END) COMM_REPROV_PRICE,
                        Sum(CASE
                              WHEN COSTTYPEID <> 5
                                   AND COSTTYPEID <> 6 THEN ACTUAL_UNIT_PRICE
                              ELSE NULL
                            END) OTHER_ACTUAL_PRICE,
                        Sum(CASE
                              WHEN COSTTYPEID <> 5
                                   AND COSTTYPEID <> 6 THEN BUDGET_UNIT_PRICE
                              ELSE NULL
                            END) OTHER_BUDGET_PRICE,
                        Sum(CASE
                              WHEN COSTTYPEID <> 5
                                   AND COSTTYPEID <> 6 THEN REPROV_UNIT_COST
                              ELSE NULL
                            END) OTHER_REPROV_PRICE,
                        Sum(CASE
                              WHEN COSTTYPEID = 3 THEN BUDGET_UNIT_PRICE
                              ELSE NULL
                            END) UNIT_TAX,
                        Sum(CASE
                              WHEN COSTTYPEID = 4
                                    OR ( COSTTYPEID >= 12
                                         AND COSTTYPEID <= 18 ) THEN BUDGET_UNIT_PRICE
                              ELSE NULL
                            END) UNIT_PREMDISC
                 FROM   BI_VIEW_ADDITIONAL_COST
                 WHERE  INSTRUMENT_TYPE = 'Physical'
                        AND COSTTYPEID <> 7
                 GROUP  BY CTRID) COST
              ON ( BVCP.CTRID = COST.CTRID )
       JOIN VIEW_COUNTERPARTIES VCP
         ON BVCP.CTRID = VCP.CTRID
       LEFT JOIN JCMBR CPY
              ON VCP.COUNTERPARTY = CPY.MBRID
       LEFT JOIN JCPAYTERMS PT
              ON BVCP.PAYTERMID = PT.PAYTERMID
       JOIN CTR CC
         ON BVCP.CTRID = CC.CTRID
		 		 LEFT JOIN JCCROPSEASON JsS  ON CC.CROPSEASON=JsS.CROPSEASONID
       JOIN JC_USER JU
         ON CC.CREATEBY = JU.ID
       JOIN XSPRICEBASIS BASIS
         ON CC.PRICEBASISID = BASIS.PRICEBASISID
		   LEFT JOIN JCCROPSEASON JCS  ON CC.CROPSEASON=JCS.CROPSEASONID
       LEFT JOIN (SELECT SD.CTRID,
                         Sum(SL.INVOICE_QTY) AS INVOICE_QTY
                  FROM   BI_VIEW_SETTLEMENT_DETAILS SD
                         JOIN BI_VIEW_SETTLEMENT_LINE_ITEM_DETAILS SL
                           ON SD.INVOICE_ID = SL.INVOICE_ID
                              AND SD.PAYABLE_RECEIVABLE = SL.PAYABLE_RECEIVABLE
                  GROUP  BY SD.CTRID) SS
              ON BVCP.CTRID = SS.CTRID
       LEFT JOIN JCGRPTRADERUSER GTU
              ON BVCP.TRADERID = GTU.USRID
       LEFT JOIN JCGRPTRADER GT
              ON GTU.GROUPID = GT.GROUPID

WHERE CONTRACT_DATE >= $P{date_from}
     AND CONTRACT_DATE <= $P{date_to}
     AND LONG_SHORT = 'Short'
     AND $X{IN,COMPANY,company_p}
	 AND $X{IN,CONTRACT_BOOK,contract_book_p}
	 AND $X{IN,PROFIT_CENTER_GROUP,profit_center_group_p}
	 AND $X{IN,PROFIT_CENTER,profit_center_p}
	 AND $X{IN,STRATEGY,strategy_p}
	 AND $X{IN,GT.NAME,trader_group_p}
	 AND $X{IN,TRADER,trader_p}
	 AND $X{IN,COUNTERPARTY_GROUP,counterparty_group_p}
	 AND $X{IN,CPY.MBRSHORTNAME,counterparty_p}
	 AND $X{IN,BROKER,broker_p}
	 AND $X{IN,PAYMENT_TERM,payment_term_p}
	 AND $X{IN,CONTRACT_TERM,contract_term_p}
	 AND $X{IN,PRICE_CURRENCY,price_currency_p}
	 AND $X{IN,COMMODITY,commodity_p}
	 AND $X{IN,SHIP_MONTH,ship_month_p}
     AND $X{IN, BVCP.CONTRACT_STATUS, contract_status_p}

	 AND $X{IN,BVCP.CONTRACT_TYPE,ctrtype}
     $P!{QSTR_Filter}
ORDER  BY COMPANY,
          PROFIT_CENTER,
          COMMODITY,
          CONTRACT_STATUS,
          LONG_SHORT]]>
		</queryString>
		<field name="COMPANY" class="java.lang.String"/>
		<field name="CONTRACT_STATUS" class="java.lang.String"/>
		<field name="PROFIT_CENTER" class="java.lang.String"/>
		<field name="COMMODITY" class="java.lang.String"/>
		<field name="LONG_SHORT" class="java.lang.String"/>
		<field name="GroupOfCtr_Status_Proft_Center_Producat_Role" class="java.lang.String"/>
		<field name="CONTRACT_TYPE" class="java.lang.String"/>
		<field name="COUNTERPARTY" class="java.lang.String"/>
		<field name="SHIP_MONTH" class="java.lang.String"/>
		<field name="GRADE" class="java.lang.String"/>
		<field name="CONTRACT_REFERENCE" class="java.lang.String"/>
		<field name="CONTRACT_DATE" class="java.sql.Date"/>
		<field name="ORIGIN" class="java.lang.String"/>
		<field name="UNLOAD_PORT" class="java.lang.String"/>
		<field name="CONTRACT_QTY" class="java.math.BigDecimal"/>
		<field name="INCOTERM" class="java.lang.String"/>
		<field name="BASIS_WEIGHT" class="java.lang.String"/>
		<field name="PAYMENT_TERM" class="java.lang.String"/>
		<field name="PRICE_TERM" class="java.lang.String"/>
		<field name="PRICING_TYPE" class="java.lang.String"/>
		<field name="FUTURE_TERM" class="java.lang.String"/>
		<field name="INITPRICE" class="java.math.BigDecimal"/>
		<field name="PRICE_CURRENCY" class="java.lang.String"/>
		<field name="PRICE_UOM" class="java.lang.String"/>
		<field name="BROKER" class="java.lang.String"/>
		<field name="BROKER_REFERENCE" class="java.lang.String"/>
		<field name="UNIT_FREIGHT" class="java.math.BigDecimal"/>
		<field name="UNIT_COMMISSION" class="java.math.BigDecimal"/>
		<field name="UNIT_OTHER_COST" class="java.math.BigDecimal"/>
		<field name="TRADER" class="java.lang.String"/>
		<field name="CREATED" class="java.lang.String"/>
		<field name="CONTRACT_UOM" class="java.lang.String"/>
		<field name="CONTRACT_CURRENCY" class="java.lang.String"/>
		<field name="CONTRACT_ENTRY_DATE" class="java.lang.String"/>
		<field name="CROPSEASON" class="java.lang.String"/>
		<variable name="GroupByUnit" class="java.lang.String">
			<variableExpression><![CDATA[$F{CONTRACT_STATUS}+'-'+$F{PROFIT_CENTER}+' '+$F{COMMODITY}+' '+$F{LONG_SHORT}]]></variableExpression>
		</variable>
		<variable name="CommonityGroup" class="java.lang.String" resetType="Group" resetGroup="Group1" calculation="Sum">
			<variableExpression><![CDATA[$F{COMMODITY}]]></variableExpression>
		</variable>
		<variable name="qty_by_profcenter" class="java.math.BigDecimal" resetType="Group" resetGroup="Group1" calculation="Sum">
			<variableExpression><![CDATA[$F{CONTRACT_QTY}]]></variableExpression>
		</variable>
		<group name="Group1">
			<groupExpression><![CDATA[$V{GroupByUnit}]]></groupExpression>
		</group>
		<group name="CommoidtyGroup">
			<groupExpression><![CDATA[$F{GroupOfCtr_Status_Proft_Center_Producat_Role}]]></groupExpression>
		</group>
	</subDataset>
	<subDataset name="New Dataset 1" uuid="b41ca939-0e52-4802-b84b-5e5d35fba503">
		<parameter name="date_from" class="java.util.Date">
			<defaultValueExpression><![CDATA[new SimpleDateFormat("yyyy-MM-dd").format(java.util.Date.parse(MONTH(NOW( ))-1 + "/1/" + YEAR(NOW())))]]></defaultValueExpression>
		</parameter>
		<parameter name="date_to" class="java.util.Date">
			<defaultValueExpression><![CDATA[new java.util.Date()-1]]></defaultValueExpression>
		</parameter>
		<parameter name="company_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="contract_book_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="profit_center_group_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="profit_center_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="strategy_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="trader_group_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="trader_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="counterparty_group_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="broker_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="payment_term_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="contract_term_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="price_currency_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="commodity_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="ship_month_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="contract_status_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="counterparty_p" class="java.util.Collection">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="LE_Filter" class="java.lang.String">
			<defaultValueExpression><![CDATA[$P{LE_Filter}]]></defaultValueExpression>
		</parameter>
		<parameter name="QSTR_Filter" class="java.lang.String">
			<defaultValueExpression><![CDATA[" AND CTRBOOKCODE IN ('" + $P{LE_Filter} + "')"]]></defaultValueExpression>
		</parameter>
		<parameter name="ctrtype" class="java.util.Collection"/>
		<queryString>
			<![CDATA[SELECT COMP.MBRNAME                                                                                         AS COMPANY,
       CASE
         WHEN BVCP.CONTRACT_QTY - AL.ALLOCATION_QTY = 0
               AND CASE WHEN UPPER(BVCP.GROSS_NET_WEIGHT) = 'NET' THEN AL.NET_LOAD_QTY ELSE AL.GROSS_LOAD_QTY END - SS.INVOICE_QTY = 0 THEN 'Billed'
         ELSE BVCP.CONTRACT_STATUS
       END                                                                                       AS CONTRACT_STATUS,
       PROFIT_CENTER,
       COMMODITY,
       LONG_SHORT,
       BVCP.CONTRACT_TYPE,
       CPY.MBRSHORTNAME                                                                                     AS COUNTERPARTY,
       SHIP_MONTH,
       GRADE,
       CONTRACT_REFERENCE,
       CONTRACT_DATE,
       BVCP.ORIGIN,
       UNLOAD_PORT,
       CASE
         WHEN LONG_SHORT = 'Short' THEN -CONTRACT_QTY
         ELSE CONTRACT_QTY
       END                                                                                                  AS CONTRACT_QTY,
       INCOTERM,
       BASIS_WEIGHT,
       PT.PAYTERMCODE                                                                                       AS PAYMENT_TERM,
       BVCP.PRICE_TERM,
       CASE
         WHEN BVCP.PRICE_TERM = 'Fixed' THEN 'No'
         ELSE BASIS.PRICEBASISNAME
       END                                                                                                  AS PRICING_TYPE,
       BVCP.FUTURE_TERM,
       CC.INITPRICE,
       CASE
         WHEN CC.DENOMID IS NOT NULL THEN CC.DENOMID
         ELSE CC.CURRENCYID
       END                                                                                                  AS PRICE_CURRENCY,
       PRICE_UOM,
       BROKER,
       BVCP.BROKER_REFERENCE,
       NULLIF(COALESCE(COST.FREIGHT_ACTUAL_PRICE, COST.FREIGHT_REPROV_PRICE, COST.FREIGHT_BUDGET_PRICE), 0) AS UNIT_FREIGHT,
       NULLIF(COALESCE(COST.COMM_ACTUAL_PRICE, COST.COMM_REPROV_PRICE, COST.COMM_BUDGET_PRICE), 0)          AS UNIT_COMMISSION,
       NULLIF(COALESCE(COST.OTHER_ACTUAL_PRICE, COST.OTHER_REPROV_PRICE, COST.OTHER_BUDGET_PRICE), 0)       AS UNIT_OTHER_COST,
       TRADER,
       JU.FIRST_NAME + ' ' + JU.LAST_NAME                                                                   AS CREATED,
       BVCP.CONTRACT_UOM,
       CC.FINANCIALCURRENCY AS CONTRACT_CURRENCY
FROM   BI_VIEW_CONTRACT_PHYSICAL BVCP
       JOIN JCMBR COMP
         ON BVCP.COMPANYID = COMP.MBRID
       JOIN BI_VIEW_COUNTERPARTY CP
         ON BVCP.COUNTERPARTYID = CP.CPID
       JOIN BI_VIEW_CONTRACT_BOOK CB
         ON CB.CTRBOOKID = BVCP.CTRBOOKID
       LEFT JOIN BI_VIEW_PRICING PR
              ON BVCP.CTRID = PR.CTRID
       LEFT JOIN (SELECT BA.P_CTRID,
                         Sum(BA.ALLOCATION_QTY) AS ALLOCATION_QTY,
                         Sum(cm.NET_LOAD_QTY)       AS NET_LOAD_QTY,
						 SUM(CM.GROSS_LOAD_QTY) AS GROSS_LOAD_QTY
                  FROM   BI_VIEW_ALLOCATION BA
                         LEFT JOIN (SELECT
										LD.CTRID
										, CM.ALLOCATION_ID
										, Sum(LD.LOAD_NET_WEIGHT)       AS NET_LOAD_QTY
										, Sum(LD.LOAD_QTY)       AS GROSS_LOAD_QTY
									FROM BI_VIEW_CONTRACT_MOVEMENT CM
										LEFT JOIN BI_VIEW_LOAD_DETAILS LD ON CM.MOVEMENT_ID = LD.MOVEMENT_ID
								GROUP BY LD.CTRID
										, CM.ALLOCATION_ID
						) CM ON CM.CTRID = BA.P_CTRID
							AND CM.ALLOCATION_ID = BA.ALLOCATION_ID

                  WHERE  ALLOCATION_TYPE NOT LIKE '%Open%'
                  GROUP  BY BA.P_CTRID) AL
              ON BVCP.CTRID = AL.P_CTRID
       LEFT JOIN (SELECT CTRID,
                         Sum(CASE
                               WHEN COSTTYPEID = 5 THEN ACTUAL_UNIT_PRICE
                               ELSE NULL
                             END) FREIGHT_ACTUAL_PRICE,
                         Sum(CASE
                               WHEN COSTTYPEID = 5 THEN BUDGET_UNIT_PRICE
                               ELSE NULL
                             END) FREIGHT_BUDGET_PRICE,
                         Sum(CASE
                               WHEN COSTTYPEID = 5 THEN REPROV_UNIT_COST
                               ELSE NULL
                             END) FREIGHT_REPROV_PRICE,
                         Sum(CASE
                               WHEN COSTTYPEID = 6 THEN ACTUAL_UNIT_PRICE
                               ELSE NULL
                             END) COMM_ACTUAL_PRICE,
                         Sum(CASE
                               WHEN COSTTYPEID = 6 THEN BUDGET_UNIT_PRICE
                               ELSE NULL
                             END) COMM_BUDGET_PRICE,
                         Sum(CASE
                               WHEN COSTTYPEID = 6 THEN REPROV_UNIT_COST
                               ELSE NULL
                             END) COMM_REPROV_PRICE,
                         Sum(CASE
                               WHEN COSTTYPEID <> 5
                                    AND COSTTYPEID <> 6 THEN ACTUAL_UNIT_PRICE
                               ELSE NULL
                             END) OTHER_ACTUAL_PRICE,
                         Sum(CASE
                               WHEN COSTTYPEID <> 5
                                    AND COSTTYPEID <> 6 THEN BUDGET_UNIT_PRICE
                               ELSE NULL
                             END) OTHER_BUDGET_PRICE,
                         Sum(CASE
                               WHEN COSTTYPEID <> 5
                                    AND COSTTYPEID <> 6 THEN REPROV_UNIT_COST
                               ELSE NULL
                             END) OTHER_REPROV_PRICE,
                         Sum(CASE
                               WHEN COSTTYPEID = 3 THEN BUDGET_UNIT_PRICE
                               ELSE NULL
                             END) UNIT_TAX,
                         Sum(CASE
                               WHEN COSTTYPEID = 4
                                     OR ( COSTTYPEID >= 12
                                          AND COSTTYPEID <= 18 ) THEN BUDGET_UNIT_PRICE
                               ELSE NULL
                             END) UNIT_PREMDISC
                  FROM   BI_VIEW_ADDITIONAL_COST
                  WHERE  INSTRUMENT_TYPE = 'Physical'
                         AND COSTTYPEID <> 7
                  GROUP  BY CTRID) COST
              ON ( BVCP.CTRID = COST.CTRID )
       JOIN VIEW_COUNTERPARTIES VCP
         ON BVCP.CTRID = VCP.CTRID
       LEFT JOIN JCMBR CPY
              ON VCP.COUNTERPARTY = CPY.MBRID
       LEFT JOIN JCPAYTERMS PT
              ON BVCP.PAYTERMID = PT.PAYTERMID
       JOIN CTR CC
         ON BVCP.CTRID = CC.CTRID
       JOIN JC_USER JU
         ON CC.CREATEBY = JU.ID
       JOIN XSPRICEBASIS BASIS
         ON CC.PRICEBASISID = BASIS.PRICEBASISID
       LEFT JOIN (SELECT SD.CTRID,
                         Sum(SL.INVOICE_QTY) AS INVOICE_QTY
                  FROM   BI_VIEW_SETTLEMENT_DETAILS SD
                         JOIN BI_VIEW_SETTLEMENT_LINE_ITEM_DETAILS SL
                           ON SD.INVOICE_ID = SL.INVOICE_ID
                              AND SD.PAYABLE_RECEIVABLE = SL.PAYABLE_RECEIVABLE
                  GROUP  BY SD.CTRID) SS
              ON BVCP.CTRID = SS.CTRID
       LEFT JOIN JCGRPTRADERUSER GTU
              ON BVCP.TRADERID = GTU.USRID
       LEFT JOIN JCGRPTRADER GT
              ON GTU.GROUPID = GT.GROUPID
WHERE  CONTRACT_DATE >= $P{date_from}
     AND CONTRACT_DATE <= $P{date_to}
     AND LONG_SHORT = 'Long'
	AND $X{IN,COMPANY,company_p}
	And $X{IN, CONTRACT_BOOK, contract_book_p}
	And $X{IN, PROFIT_CENTER_GROUP, profit_center_group_p}
	And $X{IN, PROFIT_CENTER, profit_center_p}
	And $X{IN, STRATEGY, strategy_p}
	And $X{IN, GT.NAME, trader_group_p}
	And $X{IN, TRADER, trader_p}
	And $X{IN, COUNTERPARTY_GROUP, counterparty_group_p}
	And $X{IN, MBRSHORTNAME, counterparty_p}
	And $X{IN, BROKER, broker_p}
	And $X{IN, PAYMENT_TERM, payment_term_p}
	And $X{IN, CONTRACT_TERM, contract_term_p}
	And $X{IN, PRICE_CURRENCY, price_currency_p}
	And $X{IN, COMMODITY, commodity_p}
	And $X{IN, SHIP_MONTH, ship_month_p}
     AND $X{IN, BVCP.CONTRACT_STATUS, contract_status_p}

     and $X{IN, BVCP.CONTRACT_TYPE, ctrtype}
     $P!{QSTR_Filter}

UNION
SELECT COMP.MBRNAME                                                                              AS COMPANY,
       CASE
         WHEN BVCP.CONTRACT_QTY - AL.ALLOCATION_QTY = 0
               AND CASE WHEN UPPER(BVCP.GROSS_NET_WEIGHT) = 'NET' THEN AL.NET_LOAD_QTY ELSE AL.GROSS_LOAD_QTY END - SS.INVOICE_QTY = 0 THEN 'Billed'
         ELSE BVCP.CONTRACT_STATUS
       END                                                                                       AS CONTRACT_STATUS,
       PROFIT_CENTER,
       COMMODITY,
       LONG_SHORT,
       BVCP.CONTRACT_TYPE,
       CPY.MBRSHORTNAME                                                                          AS COUNTERPARTY,
       SHIP_MONTH,
       GRADE,
       CONTRACT_REFERENCE,
       CONTRACT_DATE,
       BVCP.ORIGIN,
       UNLOAD_PORT,
       CASE
         WHEN LONG_SHORT = 'Short' THEN -CONTRACT_QTY
         ELSE CONTRACT_QTY
       END                                                                                       CONTRACT_QTY,
       INCOTERM,
       BASIS_WEIGHT,
       PT.PAYTERMCODE                                                                            AS PAYMENT_TERM,
       BVCP.PRICE_TERM,
       CASE
         WHEN BVCP.PRICE_TERM = 'Fixed' THEN 'No'
         ELSE BASIS.PRICEBASISNAME
       END                                                                                       AS PRICING_TYPE,
       BVCP.FUTURE_TERM,
       CC.INITPRICE,
       CASE
         WHEN CC.DENOMID IS NOT NULL THEN CC.DENOMID
         ELSE CC.CURRENCYID
       END                                                                                       AS PRICE_CURRENCY,
       PRICE_UOM,
       BROKER,
       BVCP.BROKER_REFERENCE,
       COALESCE(COST.FREIGHT_ACTUAL_PRICE, COST.FREIGHT_REPROV_PRICE, COST.FREIGHT_BUDGET_PRICE) AS UNIT_FREIGHT,
       COALESCE(COST.COMM_ACTUAL_PRICE, COST.COMM_REPROV_PRICE, COST.COMM_BUDGET_PRICE)          AS UNIT_COMMISSION,
       COALESCE(COST.OTHER_ACTUAL_PRICE, COST.OTHER_REPROV_PRICE, COST.OTHER_BUDGET_PRICE)       AS UNIT_OTHER_COST,
       TRADER,
       JU.FIRST_NAME + ' ' + JU.LAST_NAME                                                        AS CREATED,
       BVCP.CONTRACT_UOM,
       CC.FINANCIALCURRENCY AS CONTRACT_CURRENCY
FROM   BI_VIEW_CONTRACT_PHYSICAL BVCP
       JOIN JCMBR COMP
         ON BVCP.COMPANYID = COMP.MBRID
       JOIN BI_VIEW_COUNTERPARTY CP
         ON BVCP.COUNTERPARTYID = CP.CPID
       JOIN BI_VIEW_CONTRACT_BOOK CB
         ON CB.CTRBOOKID = BVCP.CTRBOOKID
       LEFT JOIN BI_VIEW_PRICING PR
              ON BVCP.CTRID = PR.CTRID
       LEFT JOIN (SELECT BA.S_CTRID,
                         Sum(BA.ALLOCATION_QTY) AS ALLOCATION_QTY,
                         Sum(cm.NET_LOAD_QTY)       AS NET_LOAD_QTY,
						 SUM(CM.GROSS_LOAD_QTY) AS GROSS_LOAD_QTY
                  FROM   BI_VIEW_ALLOCATION BA
                         LEFT JOIN (SELECT
										LD.CTRID
										, CM.ALLOCATION_ID
										, Sum(LD.LOAD_NET_WEIGHT)       AS NET_LOAD_QTY
										, Sum(LD.LOAD_QTY)       AS GROSS_LOAD_QTY
									FROM BI_VIEW_CONTRACT_MOVEMENT CM
										LEFT JOIN BI_VIEW_LOAD_DETAILS LD ON CM.MOVEMENT_ID = LD.MOVEMENT_ID
								GROUP BY LD.CTRID
										, CM.ALLOCATION_ID
						) CM ON CM.CTRID = BA.S_CTRID
							AND CM.ALLOCATION_ID = BA.ALLOCATION_ID

                  WHERE  ALLOCATION_TYPE NOT LIKE '%Open%'
                  GROUP  BY BA.S_CTRID) AL
              ON BVCP.CTRID = AL.S_CTRID
       LEFT JOIN(SELECT CTRID,
                        Sum(CASE
                              WHEN COSTTYPEID = 5 THEN ACTUAL_UNIT_PRICE
                              ELSE NULL
                            END) FREIGHT_ACTUAL_PRICE,
                        Sum(CASE
                              WHEN COSTTYPEID = 5 THEN BUDGET_UNIT_PRICE
                              ELSE NULL
                            END) FREIGHT_BUDGET_PRICE,
                        Sum(CASE
                              WHEN COSTTYPEID = 5 THEN REPROV_UNIT_COST
                              ELSE NULL
                            END) FREIGHT_REPROV_PRICE,
                        Sum(CASE
                              WHEN COSTTYPEID = 6 THEN ACTUAL_UNIT_PRICE
                              ELSE NULL
                            END) COMM_ACTUAL_PRICE,
                        Sum(CASE
                              WHEN COSTTYPEID = 6 THEN BUDGET_UNIT_PRICE
                              ELSE NULL
                            END) COMM_BUDGET_PRICE,
                        Sum(CASE
                              WHEN COSTTYPEID = 6 THEN REPROV_UNIT_COST
                              ELSE NULL
                            END) COMM_REPROV_PRICE,
                        Sum(CASE
                              WHEN COSTTYPEID <> 5
                                   AND COSTTYPEID <> 6 THEN ACTUAL_UNIT_PRICE
                              ELSE NULL
                            END) OTHER_ACTUAL_PRICE,
                        Sum(CASE
                              WHEN COSTTYPEID <> 5
                                   AND COSTTYPEID <> 6 THEN BUDGET_UNIT_PRICE
                              ELSE NULL
                            END) OTHER_BUDGET_PRICE,
                        Sum(CASE
                              WHEN COSTTYPEID <> 5
                                   AND COSTTYPEID <> 6 THEN REPROV_UNIT_COST
                              ELSE NULL
                            END) OTHER_REPROV_PRICE,
                        Sum(CASE
                              WHEN COSTTYPEID = 3 THEN BUDGET_UNIT_PRICE
                              ELSE NULL
                            END) UNIT_TAX,
                        Sum(CASE
                              WHEN COSTTYPEID = 4
                                    OR ( COSTTYPEID >= 12
                                         AND COSTTYPEID <= 18 ) THEN BUDGET_UNIT_PRICE
                              ELSE NULL
                            END) UNIT_PREMDISC
                 FROM   BI_VIEW_ADDITIONAL_COST
                 WHERE  INSTRUMENT_TYPE = 'Physical'
                        AND COSTTYPEID <> 7
                 GROUP  BY CTRID) COST
              ON ( BVCP.CTRID = COST.CTRID )
       JOIN VIEW_COUNTERPARTIES VCP
         ON BVCP.CTRID = VCP.CTRID
       LEFT JOIN JCMBR CPY
              ON VCP.COUNTERPARTY = CPY.MBRID
       LEFT JOIN JCPAYTERMS PT
              ON BVCP.PAYTERMID = PT.PAYTERMID
       JOIN CTR CC
         ON BVCP.CTRID = CC.CTRID
       JOIN JC_USER JU
         ON CC.CREATEBY = JU.ID
       JOIN XSPRICEBASIS BASIS
         ON CC.PRICEBASISID = BASIS.PRICEBASISID
       LEFT JOIN (SELECT SD.CTRID,
                         Sum(SL.INVOICE_QTY) AS INVOICE_QTY
                  FROM   BI_VIEW_SETTLEMENT_DETAILS SD
                         JOIN BI_VIEW_SETTLEMENT_LINE_ITEM_DETAILS SL
                           ON SD.INVOICE_ID = SL.INVOICE_ID
                              AND SD.PAYABLE_RECEIVABLE = SL.PAYABLE_RECEIVABLE
                  GROUP  BY SD.CTRID) SS
              ON BVCP.CTRID = SS.CTRID
       LEFT JOIN JCGRPTRADERUSER GTU
              ON BVCP.TRADERID = GTU.USRID
       LEFT JOIN JCGRPTRADER GT
              ON GTU.GROUPID = GT.GROUPID
WHERE CONTRACT_DATE >= $P{date_from}
     AND CONTRACT_DATE <= $P{date_to}
     AND LONG_SHORT = 'Short'
     AND $X{IN,COMPANY,company_p}
	And $X{IN, CONTRACT_BOOK, contract_book_p}
	And $X{IN, PROFIT_CENTER_GROUP, profit_center_group_p}
	And $X{IN, PROFIT_CENTER, profit_center_p}
	And $X{IN, STRATEGY, strategy_p}
	And $X{IN, GT.NAME, trader_group_p}
	And $X{IN, TRADER, trader_p}
	And $X{IN, COUNTERPARTY_GROUP, counterparty_group_p}
	And $X{IN, MBRSHORTNAME, counterparty_p}
	And $X{IN, BROKER, broker_p}
	And $X{IN, PAYMENT_TERM, payment_term_p}
	And $X{IN, CONTRACT_TERM, contract_term_p}
	And $X{IN, PRICE_CURRENCY, price_currency_p}
	And $X{IN, COMMODITY, commodity_p}
	And $X{IN, SHIP_MONTH, ship_month_p}
     AND $X{IN, BVCP.CONTRACT_STATUS, contract_status_p}

     And $X{IN, BVCP.CONTRACT_TYPE, ctrtype}
     $P!{QSTR_Filter}

ORDER  BY
          COMMODITY,
          PROFIT_CENTER]]>
		</queryString>
		<field name="COMPANY" class="java.lang.String"/>
		<field name="CONTRACT_STATUS" class="java.lang.String"/>
		<field name="PROFIT_CENTER" class="java.lang.String"/>
		<field name="COMMODITY" class="java.lang.String"/>
		<field name="LONG_SHORT" class="java.lang.String"/>
		<field name="CONTRACT_TYPE" class="java.lang.String"/>
		<field name="COUNTERPARTY" class="java.lang.String"/>
		<field name="SHIP_MONTH" class="java.lang.String"/>
		<field name="GRADE" class="java.lang.String"/>
		<field name="CONTRACT_REFERENCE" class="java.lang.String"/>
		<field name="CONTRACT_DATE" class="java.sql.Date"/>
		<field name="ORIGIN" class="java.lang.String"/>
		<field name="UNLOAD_PORT" class="java.lang.String"/>
		<field name="CONTRACT_QTY" class="java.math.BigDecimal"/>
		<field name="INCOTERM" class="java.lang.String"/>
		<field name="BASIS_WEIGHT" class="java.lang.String"/>
		<field name="PAYMENT_TERM" class="java.lang.String"/>
		<field name="PRICE_TERM" class="java.lang.String"/>
		<field name="PRICING_TYPE" class="java.lang.String"/>
		<field name="FUTURE_TERM" class="java.lang.String"/>
		<field name="INITPRICE" class="java.math.BigDecimal"/>
		<field name="PRICE_CURRENCY" class="java.lang.String"/>
		<field name="PRICE_UOM" class="java.lang.String"/>
		<field name="BROKER" class="java.lang.String"/>
		<field name="BROKER_REFERENCE" class="java.lang.String"/>
		<field name="UNIT_FREIGHT" class="java.math.BigDecimal"/>
		<field name="UNIT_COMMISSION" class="java.math.BigDecimal"/>
		<field name="UNIT_OTHER_COST" class="java.math.BigDecimal"/>
		<field name="TRADER" class="java.lang.String"/>
		<field name="CREATED" class="java.lang.String"/>
		<field name="CONTRACT_UOM" class="java.lang.String"/>
		<field name="CONTRACT_CURRENCY" class="java.lang.String"/>
		<field name="CONTRACT_ENTRY_DATE" class="java.lang.String"/>
		<variable name="grand_total_qty" class="java.math.BigDecimal" calculation="Sum">
			<variableExpression><![CDATA[$F{CONTRACT_QTY}]]></variableExpression>
		</variable>
		<variable name="Commonity" class="java.lang.String" resetType="Group" resetGroup="COMMODITY" calculation="Sum">
			<variableExpression><![CDATA[$F{COMMODITY}]]></variableExpression>
		</variable>
		<variable name="totelCommQTY" class="java.math.BigDecimal" resetType="Group" resetGroup="COMMODITY" calculation="Sum">
			<variableExpression><![CDATA[$F{CONTRACT_QTY}]]></variableExpression>
		</variable>
		<variable name="PCGrpName" class="java.lang.String" resetType="Group" resetGroup="PROFIT_CENTER" calculation="Sum">
			<variableExpression><![CDATA[$F{PROFIT_CENTER}]]></variableExpression>
		</variable>
		<variable name="PCQty" class="java.math.BigDecimal" resetType="Group" resetGroup="PROFIT_CENTER" calculation="Sum">
			<variableExpression><![CDATA[$F{CONTRACT_QTY}]]></variableExpression>
		</variable>
		<variable name="Comapnyname" class="java.lang.String" resetType="Group" resetGroup="CompanyName" calculation="Sum">
			<variableExpression><![CDATA[$F{COMPANY}]]></variableExpression>
		</variable>
		<variable name="Company_totalQty" class="java.math.BigDecimal" calculation="Sum">
			<variableExpression><![CDATA[$F{CONTRACT_QTY}]]></variableExpression>
		</variable>
		<group name="COMMODITY">
			<groupExpression><![CDATA[$V{Commonity}]]></groupExpression>
		</group>
		<group name="PROFIT_CENTER">
			<groupExpression><![CDATA[$V{PCGrpName}]]></groupExpression>
		</group>
		<group name="CompanyName">
			<groupExpression><![CDATA[$F{CONTRACT_QTY}]]></groupExpression>
		</group>
	</subDataset>
	<parameter name="runDate" class="java.util.Date" isForPrompting="false">
		<defaultValueExpression><![CDATA[new Date()]]></defaultValueExpression>
	</parameter>
	<parameter name="cal" class="java.util.Calendar" isForPrompting="false">
		<defaultValueExpression><![CDATA[Calendar.getInstance()]]></defaultValueExpression>
	</parameter>
	<parameter name="date_from" class="java.util.Date">
		<defaultValueExpression><![CDATA[( $P{cal}.set($P{runDate}.getYear()+1900, $P{runDate}.getMonth(), $P{runDate}.getDate()-1) || $P{cal}.add(Calendar.MONTH, -1) ) ? null : $P{cal}.getTime()]]></defaultValueExpression>
	</parameter>
	<parameter name="date_to" class="java.util.Date">
		<defaultValueExpression><![CDATA[new java.util.Date()-1]]></defaultValueExpression>
	</parameter>
	<parameter name="company_p" class="java.util.Collection"/>
	<parameter name="contract_book_p" class="java.util.Collection"/>
	<parameter name="profit_center_group_p" class="java.util.Collection"/>
	<parameter name="profit_center_p" class="java.util.Collection"/>
	<parameter name="strategy_p" class="java.util.Collection"/>
	<parameter name="trader_group_p" class="java.util.Collection"/>
	<parameter name="trader_p" class="java.util.Collection"/>
	<parameter name="counterparty_group_p" class="java.util.Collection"/>
	<parameter name="counterparty_p" class="java.util.Collection"/>
	<parameter name="broker_p" class="java.util.Collection"/>
	<parameter name="payment_term_p" class="java.util.Collection"/>
	<parameter name="contract_term_p" class="java.util.Collection"/>
	<parameter name="price_currency_p" class="java.util.Collection"/>
	<parameter name="commodity_p" class="java.util.Collection"/>
	<parameter name="ship_month_p" class="java.util.Collection"/>
	<parameter name="contract_status_p" class="java.util.Collection"/>
	<parameter name="ctrtype" class="java.util.Collection"/>
	<parameter name="date_to_1" class="java.util.Date">
		<defaultValueExpression><![CDATA[new java.util.Date()-1]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT Substring(VALUE_FIELD, 2, Len(VALUE_FIELD) - 2) AS VALUE_FIELD
 FROM (SELECT Stuff((SELECT ',''' + Cast(CBK.CODE AS VARCHAR(20)) + ''''
 FROM JC_USER_CONTRACT_BOOK UCB JOIN JC_CONTRACT_BOOK CBK ON UCB.CONTRACT_BOOK_ID = CBK.ID JOIN JC_USER USR ON UCB.USR_ID = USR.ID

 GROUP BY CBK.CODE FOR XML PATH('')), 1, 1, '') AS VALUE_FIELD) SQ1]]>
	</queryString>
	<field name="VALUE_FIELD" class="java.lang.String"/>
	<variable name="currentpage" class="java.lang.Integer" resetType="Page" incrementType="Page">
		<variableExpression><![CDATA[]]></variableExpression>
		<initialValueExpression><![CDATA[$V{PAGE_NUMBER}]]></initialValueExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="58">
			<textField>
				<reportElement mode="Opaque" x="30" y="0" width="1566" height="30" forecolor="#FFFFFF" backcolor="#1F497D" uuid="d318da92-9597-4d26-89b2-f0bff7516e01">
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<box topPadding="0" leftPadding="3" bottomPadding="0" rightPadding="3">
					<pen lineWidth="0.5" lineColor="#1F497D"/>
					<topPen lineWidth="0.5" lineColor="#1F497D"/>
					<leftPen lineWidth="0.5" lineColor="#1F497D"/>
					<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
					<rightPen lineWidth="0.5" lineColor="#1F497D"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="13" isBold="true" isItalic="false"/>
				</textElement>
				<textFieldExpression><![CDATA["Olam International Ltd"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement mode="Opaque" x="0" y="31" width="1036" height="27" forecolor="#FFFFFF" backcolor="#1F497D" uuid="4f431f4d-b0a1-4471-be13-3821507f9eeb">
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<pen lineWidth="1.0" lineColor="#2A529B"/>
					<topPen lineWidth="1.0" lineColor="#2A529B"/>
					<leftPen lineWidth="1.0" lineColor="#2A529B"/>
					<bottomPen lineWidth="1.0" lineColor="#2A529B"/>
					<rightPen lineWidth="1.0" lineColor="#2A529B"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="12" isBold="true" isItalic="false"/>
				</textElement>
				<textFieldExpression><![CDATA[(($P{contract_book_p}.toString().size()>2 ? $P{contract_book_p}.toString().replaceAll("\\[", "").replaceAll("\\]",""):"All")+" - Deal Register from "+DATEFORMAT($P{date_from},"dd-MMM-yy")+"  to  " +DATEFORMAT($P{date_to_1},"dd-MMM-yy"))]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement mode="Opaque" x="1036" y="31" width="560" height="27" forecolor="#FFFFFF" backcolor="#1F497D" uuid="93b1ca75-7cfe-4b8c-ae9e-3f165bc4363e">
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
					<pen lineWidth="1.0" lineColor="#2A529B"/>
					<topPen lineWidth="1.0" lineColor="#2A529B"/>
					<leftPen lineWidth="1.0" lineColor="#2A529B"/>
					<bottomPen lineWidth="1.0" lineColor="#2A529B"/>
					<rightPen lineWidth="1.0" lineColor="#2A529B"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="true" isItalic="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Run Date : "+DATEFORMAT(NOW(),"dd-MMM-yy hh:mm:ss a")]]></textFieldExpression>
			</textField>
			<image scaleImage="FillFrame" onErrorType="Blank">
				<reportElement mode="Opaque" x="0" y="0" width="30" height="30" backcolor="#1F497D" uuid="67449611-d732-4f3e-8420-507cef45a786">
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
					<property name="net.sf.jasperreports.export.xls.column.width.ratio" value="1.15"/>
				</reportElement>
				<box topPadding="1" bottomPadding="1">
					<topPen lineWidth="0.5" lineColor="#1F497D"/>
					<leftPen lineWidth="2.0" lineColor="#1F497D"/>
					<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
					<rightPen lineWidth="0.5" lineColor="#1F497D"/>
				</box>
				<imageExpression><![CDATA["repo:olam.jpg"]]></imageExpression>
			</image>
		</band>
	</pageHeader>
	<detail>
		<band height="255">
			<componentElement>
				<reportElement key="" mode="Transparent" x="0" y="0" width="1291" height="248" forecolor="#000000" uuid="d286eef8-6dc1-43ef-9f09-47fb83fe661a">
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="dealregsummary" uuid="d7e05a75-5d0d-48f1-ad01-519acd88f011">
						<datasetParameter name="date_from">
							<datasetParameterExpression><![CDATA[$P{date_from}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="date_to">
							<datasetParameterExpression><![CDATA[$P{date_to_1}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="company_p">
							<datasetParameterExpression><![CDATA[$P{company_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="contract_book_p">
							<datasetParameterExpression><![CDATA[$P{contract_book_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="profit_center_group_p">
							<datasetParameterExpression><![CDATA[$P{profit_center_group_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="profit_center_p">
							<datasetParameterExpression><![CDATA[$P{profit_center_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="strategy_p">
							<datasetParameterExpression><![CDATA[$P{strategy_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="trader_group_p">
							<datasetParameterExpression><![CDATA[$P{trader_group_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="trader_p">
							<datasetParameterExpression><![CDATA[$P{trader_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="counterparty_group_p">
							<datasetParameterExpression><![CDATA[$P{counterparty_group_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="broker_p">
							<datasetParameterExpression><![CDATA[$P{broker_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="payment_term_p">
							<datasetParameterExpression><![CDATA[$P{payment_term_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="contract_term_p">
							<datasetParameterExpression><![CDATA[$P{contract_term_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="price_currency_p">
							<datasetParameterExpression><![CDATA[$P{price_currency_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="commodity_p">
							<datasetParameterExpression><![CDATA[$P{commodity_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="ship_month_p">
							<datasetParameterExpression><![CDATA[$P{ship_month_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="contract_status_p">
							<datasetParameterExpression><![CDATA[$P{contract_status_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="counterparty_p">
							<datasetParameterExpression><![CDATA[$P{counterparty_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="LE_Filter">
							<datasetParameterExpression><![CDATA[$F{VALUE_FIELD}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="ctrtype">
							<datasetParameterExpression><![CDATA[$P{ctrtype}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="234" uuid="2cadb558-27e7-4d55-a763-fe17857c9b19">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Columns [1]&#xA;"/>
						<jr:groupHeader groupName="CommoidtyGroup">
							<jr:cell height="0" rowSpan="1"/>
						</jr:groupHeader>
						<jr:groupHeader groupName="Group1">
							<jr:cell style="table 1_TD" height="26" rowSpan="2">
								<textField isStretchWithOverflow="true" evaluationTime="Group" evaluationGroup="Group1" isBlankWhenNull="true">
									<reportElement mode="Opaque" x="0" y="0" width="234" height="26" isRemoveLineWhenBlank="true" backcolor="#8DB4E2" uuid="b9322976-575f-4311-86d1-dd5f7e64ec78"/>
									<box>
										<topPen lineWidth="0.5" lineColor="#1F497D"/>
										<leftPen lineWidth="0.5" lineColor="#1F497D"/>
										<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
										<rightPen lineWidth="0.5" lineColor="#1F497D"/>
									</box>
									<textElement verticalAlignment="Middle">
										<font fontName="Arial" size="10" isBold="true"/>
									</textElement>
									<textFieldExpression><![CDATA[$V{GroupByUnit}]]></textFieldExpression>
								</textField>
							</jr:cell>
						</jr:groupHeader>
						<jr:columnHeader height="35" rowSpan="2">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="234" height="35" backcolor="#8DB4E2" uuid="e6b3c0c7-af23-4275-8a87-3a84149bcdaf"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" size="10" isBold="true"/>
								</textElement>
								<text><![CDATA[Party]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="25" rowSpan="1">
							<textField isStretchWithOverflow="true">
								<reportElement x="0" y="0" width="234" height="25" uuid="00c0c69f-ea3b-4374-8d21-8ee2a83e618c"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement verticalAlignment="Middle">
									<font fontName="Arial" size="10"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{COUNTERPARTY}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="165" uuid="2bf08997-749c-47db-b7c4-a05019501135">
						<jr:tableHeader height="0" rowSpan="1"/>
						<jr:tableFooter height="0" rowSpan="1"/>
						<jr:groupHeader groupName="Group1">
							<jr:cell height="26" rowSpan="2">
								<staticText>
									<reportElement mode="Opaque" x="0" y="0" width="165" height="26" forecolor="#FFFFFF" backcolor="#8DB4E2" uuid="8eea5235-f91e-4e94-8132-bc66a01de144"/>
									<box>
										<topPen lineWidth="0.5" lineColor="#1F497D"/>
										<leftPen lineWidth="0.5" lineColor="#1F497D"/>
										<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
										<rightPen lineWidth="0.5" lineColor="#1F497D"/>
									</box>
									<textElement>
										<font fontName="Arial" size="10"/>
									</textElement>
									<text><![CDATA[]]></text>
								</staticText>
							</jr:cell>
						</jr:groupHeader>
						<jr:groupHeader groupName="CommoidtyGroup">
							<jr:cell height="0" rowSpan="1"/>
						</jr:groupHeader>
						<jr:columnHeader height="35" rowSpan="2">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="165" height="35" backcolor="#8DB4E2" uuid="e5345bac-b20b-48f1-8147-4553110e82f2"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" size="10" isBold="true"/>
								</textElement>
								<text><![CDATA[Grade]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:columnFooter height="0" rowSpan="1"/>
						<jr:detailCell height="25" rowSpan="1">
							<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="false">
								<reportElement mode="Transparent" x="0" y="0" width="165" height="25" forecolor="#000000" backcolor="#FFFFFF" uuid="f6652b0c-5d2e-4244-bbbc-12c699d1c141"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement textAlignment="Left" verticalAlignment="Middle" rotation="None" markup="none">
									<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
									<paragraph lineSpacing="Single" leftIndent="1"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{GRADE}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="55" uuid="d9c534ef-29d5-4531-bac0-d674e451488a">
						<jr:groupHeader groupName="CommoidtyGroup">
							<jr:cell height="0" rowSpan="1"/>
						</jr:groupHeader>
						<jr:groupHeader groupName="Group1">
							<jr:cell height="26" rowSpan="2">
								<staticText>
									<reportElement mode="Opaque" x="0" y="0" width="55" height="26" forecolor="#FFFFFF" backcolor="#8DB4E2" uuid="6447c2eb-c4f7-4781-8a0d-def89b0c1f03"/>
									<box>
										<topPen lineWidth="0.5" lineColor="#1F497D"/>
										<leftPen lineWidth="0.5" lineColor="#1F497D"/>
										<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
										<rightPen lineWidth="0.5" lineColor="#1F497D"/>
									</box>
									<textElement>
										<font fontName="Arial" size="10"/>
									</textElement>
									<text><![CDATA[]]></text>
								</staticText>
							</jr:cell>
						</jr:groupHeader>
						<jr:columnHeader height="35" rowSpan="2">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="55" height="35" backcolor="#8DB4E2" uuid="9c04e42d-6cc7-4f64-aef2-6b93661601ac"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" size="10" isBold="true"/>
								</textElement>
								<text><![CDATA[Ship Mon]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="25" rowSpan="1">
							<textField isStretchWithOverflow="true">
								<reportElement x="0" y="0" width="55" height="25" uuid="74895bc0-2017-4861-91b2-492bd2ce7f45"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement verticalAlignment="Middle">
									<font fontName="Arial" size="10"/>
									<paragraph leftIndent="1"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{SHIP_MONTH}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="75" uuid="ceb947cb-03fa-432c-8bad-b7d4244fd33b">
						<jr:groupHeader groupName="CommoidtyGroup">
							<jr:cell height="0" rowSpan="1"/>
						</jr:groupHeader>
						<jr:groupHeader groupName="Group1">
							<jr:cell height="26" rowSpan="2">
								<staticText>
									<reportElement mode="Opaque" x="0" y="0" width="75" height="26" forecolor="#FFFFFF" backcolor="#8DB4E2" uuid="6c660811-884f-41af-ae03-6186c7043690"/>
									<box>
										<topPen lineWidth="0.5" lineColor="#1F497D"/>
										<leftPen lineWidth="0.5" lineColor="#1F497D"/>
										<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
										<rightPen lineWidth="0.5" lineColor="#1F497D"/>
									</box>
									<textElement>
										<font fontName="Arial" size="10"/>
									</textElement>
									<text><![CDATA[]]></text>
								</staticText>
							</jr:cell>
						</jr:groupHeader>
						<jr:columnHeader height="35" rowSpan="2">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="75" height="35" backcolor="#8DB4E2" uuid="cc6e1e5e-f838-47b4-8634-dc4aab32bb72"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" size="10" isBold="true"/>
								</textElement>
								<text><![CDATA[Contract No]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="25" rowSpan="1">
							<textField isStretchWithOverflow="true">
								<reportElement x="0" y="0" width="75" height="25" uuid="93a34fd5-42ce-4582-8b3e-14de3c43de91"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement verticalAlignment="Middle">
									<font fontName="Arial" size="10"/>
									<paragraph leftIndent="1"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{CONTRACT_REFERENCE}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="52" uuid="c8aaea5b-0785-49aa-824c-a405c25ef019">
						<jr:groupHeader groupName="CommoidtyGroup">
							<jr:cell height="0" rowSpan="1"/>
						</jr:groupHeader>
						<jr:groupHeader groupName="Group1">
							<jr:cell height="26" rowSpan="2">
								<staticText>
									<reportElement mode="Opaque" x="0" y="0" width="52" height="26" forecolor="#FFFFFF" backcolor="#8DB4E2" uuid="f792e875-5715-49f0-b890-09539a0d570f"/>
									<box>
										<topPen lineWidth="0.5" lineColor="#1F497D"/>
										<leftPen lineWidth="0.5" lineColor="#1F497D"/>
										<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
										<rightPen lineWidth="0.5" lineColor="#1F497D"/>
									</box>
									<textElement>
										<font fontName="Arial" size="10"/>
									</textElement>
									<text><![CDATA[]]></text>
								</staticText>
							</jr:cell>
						</jr:groupHeader>
						<jr:columnHeader height="35" rowSpan="2">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="52" height="35" backcolor="#8DB4E2" uuid="cf1bf77f-1c70-46d2-b84c-906674004ba2"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<text><![CDATA[Contract Date]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="25" rowSpan="1">
							<textField isStretchWithOverflow="true" pattern="dd-MMM-yy">
								<reportElement x="0" y="0" width="52" height="25" uuid="f7399bc2-dd7f-4349-8d59-2ad71c532d55"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" size="10"/>
									<paragraph rightIndent="1"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{CONTRACT_DATE}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="120" uuid="1e72b7ac-ccd0-4f59-a63d-a4325beac3d8">
						<jr:tableHeader height="0" rowSpan="1"/>
						<jr:tableFooter height="0" rowSpan="1"/>
						<jr:groupHeader groupName="Group1">
							<jr:cell height="26" rowSpan="2">
								<staticText>
									<reportElement mode="Opaque" x="0" y="0" width="120" height="26" forecolor="#FFFFFF" backcolor="#8DB4E2" uuid="fb2c7e1c-1d9f-4dbd-9bc5-cd15f558036f"/>
									<box>
										<pen lineWidth="0.5" lineColor="#1F497D"/>
										<topPen lineWidth="0.5" lineColor="#1F497D"/>
										<leftPen lineWidth="0.5" lineColor="#1F497D"/>
										<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
										<rightPen lineWidth="0.5" lineColor="#1F497D"/>
									</box>
									<textElement>
										<font fontName="Arial"/>
									</textElement>
									<text><![CDATA[]]></text>
								</staticText>
							</jr:cell>
						</jr:groupHeader>
						<jr:columnHeader height="35" rowSpan="2">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="120" height="35" forecolor="#000000" backcolor="#8DB4E2" uuid="a7f6ba2c-6278-49e4-8798-9c255dddaed2"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" markup="none">
									<font fontName="Arial" size="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
									<paragraph lineSpacing="Single"/>
								</textElement>
								<text><![CDATA[Contract Entry Date
]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:columnFooter height="0" rowSpan="1"/>
						<jr:detailCell height="25" rowSpan="1">
							<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
								<reportElement stretchType="RelativeToBandHeight" mode="Transparent" x="0" y="0" width="120" height="25" forecolor="#000000" backcolor="#FFFFFF" uuid="4621ffe7-b5fe-4add-9089-a61dffd87ba2"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement verticalAlignment="Middle" rotation="None" markup="none">
									<font fontName="Arial" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
									<paragraph lineSpacing="Single"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{CONTRACT_ENTRY_DATE}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="52f4fbd7-4431-42ae-94ae-75593c4ffbd7">
						<jr:tableHeader height="0" rowSpan="1"/>
						<jr:tableFooter height="0" rowSpan="1"/>
						<jr:groupHeader groupName="Group1">
							<jr:cell height="26" rowSpan="2">
								<staticText>
									<reportElement mode="Opaque" x="0" y="0" width="90" height="26" forecolor="#FFFFFF" backcolor="#8DB4E2" uuid="9b34c995-4fd1-40b5-893e-2992b9fb637d"/>
									<box>
										<pen lineWidth="0.5" lineColor="#1F497D"/>
										<topPen lineWidth="0.5" lineColor="#1F497D"/>
										<leftPen lineWidth="0.5" lineColor="#1F497D"/>
										<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
										<rightPen lineWidth="0.5" lineColor="#1F497D"/>
									</box>
									<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" markup="none">
										<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
										<paragraph lineSpacing="Single"/>
									</textElement>
									<text><![CDATA[]]></text>
								</staticText>
							</jr:cell>
						</jr:groupHeader>
						<jr:columnHeader height="35" rowSpan="2">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="35" forecolor="#000000" backcolor="#8DB4E2" uuid="69d42d93-cf29-4312-82b8-04a974440b7c"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" markup="none">
									<font fontName="Arial" size="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
									<paragraph lineSpacing="Single"/>
								</textElement>
								<text><![CDATA[Crop Season]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:columnFooter height="0" rowSpan="1"/>
						<jr:detailCell height="25" rowSpan="1">
							<textField pattern="" isBlankWhenNull="true">
								<reportElement mode="Transparent" x="0" y="0" width="90" height="25" forecolor="#000000" backcolor="#FFFFFF" uuid="67919d85-589c-496c-a62b-049c8b938067"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement textAlignment="Left" verticalAlignment="Middle" rotation="None" markup="none">
									<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
									<paragraph lineSpacing="Single"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{CROPSEASON}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="166" uuid="f2644624-9cbd-4a98-968f-fa1f9adb508d">
						<jr:groupHeader groupName="CommoidtyGroup">
							<jr:cell height="0" rowSpan="1"/>
						</jr:groupHeader>
						<jr:groupHeader groupName="Group1">
							<jr:cell height="26" rowSpan="2">
								<staticText>
									<reportElement mode="Opaque" x="0" y="0" width="166" height="26" forecolor="#FFFFFF" backcolor="#8DB4E2" uuid="9e3480d5-2eef-4004-b1be-818c50c93ca1"/>
									<box>
										<topPen lineWidth="0.5" lineColor="#1F497D"/>
										<leftPen lineWidth="0.5" lineColor="#1F497D"/>
										<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
										<rightPen lineWidth="0.5" lineColor="#1F497D"/>
									</box>
									<textElement>
										<font fontName="Arial" size="10"/>
									</textElement>
									<text><![CDATA[]]></text>
								</staticText>
							</jr:cell>
						</jr:groupHeader>
						<jr:columnHeader height="35" rowSpan="2">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="166" height="35" backcolor="#8DB4E2" uuid="c9388d65-826d-4db4-a5c0-75da95052dd5"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" size="10" isBold="true"/>
								</textElement>
								<text><![CDATA[Origin]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="25" rowSpan="1">
							<textField isStretchWithOverflow="true">
								<reportElement x="0" y="0" width="166" height="25" uuid="df491fca-6c57-43f3-b9cc-ba0e6cbfad4e"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement verticalAlignment="Middle">
									<font fontName="Arial" size="10"/>
									<paragraph leftIndent="1"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{ORIGIN}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="79" uuid="b8f25c44-41a5-45db-86f8-84fc375f279f">
						<jr:tableFooter height="0" rowSpan="1"/>
						<jr:groupHeader groupName="Group1">
							<jr:cell style="table 1_TD" height="26" rowSpan="2">
								<textField evaluationTime="Group" evaluationGroup="Group1" pattern="#,##0;(#,##0)">
									<reportElement mode="Opaque" x="0" y="0" width="79" height="26" backcolor="#8DB4E2" uuid="cfc04e58-55c3-4a2a-ae06-670aa345e0da"/>
									<box>
										<topPen lineWidth="0.5" lineColor="#1F497D"/>
										<leftPen lineWidth="0.5" lineColor="#1F497D"/>
										<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
										<rightPen lineWidth="0.5" lineColor="#1F497D"/>
									</box>
									<textElement textAlignment="Right" verticalAlignment="Middle">
										<font fontName="Arial" size="10" isBold="true"/>
									</textElement>
									<textFieldExpression><![CDATA[$V{qty_by_profcenter}]]></textFieldExpression>
								</textField>
							</jr:cell>
						</jr:groupHeader>
						<jr:groupHeader groupName="CommoidtyGroup">
							<jr:cell height="0" rowSpan="1"/>
						</jr:groupHeader>
						<jr:columnHeader height="35" rowSpan="2">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="79" height="35" backcolor="#8DB4E2" uuid="e78cd15a-8121-4632-8275-168ce12fd2a0"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" size="10" isBold="true"/>
								</textElement>
								<text><![CDATA[Qty]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:columnFooter height="0" rowSpan="1"/>
						<jr:detailCell style="table 1_TD" height="25" rowSpan="1">
							<textField isStretchWithOverflow="true" pattern="#,##0;(#,##0)">
								<reportElement x="0" y="0" width="79" height="25" uuid="d89b655c-baf0-4c61-a55d-ddfc118ba5b3"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" size="10"/>
									<paragraph leftIndent="1"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{CONTRACT_QTY}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:columnGroup width="101" uuid="04ed574b-abe9-4236-bf67-f933c8d58e31">
						<jr:groupHeader groupName="Group1">
							<jr:cell height="26" rowSpan="1">
								<staticText>
									<reportElement mode="Opaque" x="0" y="0" width="52" height="26" forecolor="#FFFFFF" backcolor="#8DB4E2" uuid="2bebd725-0380-4ff3-8454-1d0cb63d5bb7"/>
									<box>
										<topPen lineWidth="0.5" lineColor="#1F497D"/>
										<leftPen lineWidth="0.5" lineColor="#1F497D"/>
										<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
										<rightPen lineWidth="0.5" lineColor="#1F497D"/>
									</box>
									<textElement>
										<font fontName="Arial"/>
									</textElement>
									<text><![CDATA[]]></text>
								</staticText>
								<staticText>
									<reportElement mode="Opaque" x="52" y="0" width="49" height="26" forecolor="#FFFFFF" backcolor="#8DB4E2" uuid="d1d3dcd8-70db-4cd2-bf43-d09689030c7d"/>
									<box>
										<topPen lineWidth="0.5" lineColor="#1F497D"/>
										<leftPen lineWidth="0.5" lineColor="#1F497D"/>
										<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
										<rightPen lineWidth="0.5" lineColor="#1F497D"/>
									</box>
									<textElement>
										<font fontName="Arial"/>
									</textElement>
									<text><![CDATA[]]></text>
								</staticText>
							</jr:cell>
						</jr:groupHeader>
						<jr:columnHeader height="17" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="101" height="17" backcolor="#8DB4E2" uuid="570475bf-9c54-478b-b01d-c2e9906204a8"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" size="10" isBold="true"/>
								</textElement>
								<text><![CDATA[Contract Terms]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:column width="52" uuid="1b3869eb-61e0-4565-8f2a-656018712dc3">
							<jr:groupHeader groupName="CommoidtyGroup">
								<jr:cell height="0" rowSpan="1"/>
							</jr:groupHeader>
							<jr:groupHeader groupName="Group1">
								<jr:cell height="0" rowSpan="1"/>
							</jr:groupHeader>
							<jr:columnHeader height="18" rowSpan="1">
								<staticText>
									<reportElement mode="Opaque" x="0" y="0" width="52" height="18" backcolor="#8DB4E2" uuid="fed9cfc3-5e64-4149-92ba-060216e11770"/>
									<box>
										<topPen lineWidth="0.5" lineColor="#1F497D"/>
										<leftPen lineWidth="0.5" lineColor="#1F497D"/>
										<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
										<rightPen lineWidth="0.5" lineColor="#1F497D"/>
									</box>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Arial" size="10" isBold="true"/>
									</textElement>
									<text><![CDATA[Inco]]></text>
								</staticText>
							</jr:columnHeader>
							<jr:detailCell style="table 1_TD" height="25" rowSpan="1">
								<textField isStretchWithOverflow="true">
									<reportElement x="0" y="0" width="52" height="25" uuid="b6704b5a-c0b0-4dd6-8247-56a00c120798"/>
									<box>
										<topPen lineWidth="0.5" lineColor="#1F497D"/>
										<leftPen lineWidth="0.5" lineColor="#1F497D"/>
										<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
										<rightPen lineWidth="0.5" lineColor="#1F497D"/>
									</box>
									<textElement verticalAlignment="Middle">
										<font fontName="Arial" size="10"/>
										<paragraph leftIndent="1"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{INCOTERM}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
						<jr:column width="49" uuid="0cade78c-9ddf-4652-9b1c-6585ce295f9b">
							<jr:groupHeader groupName="CommoidtyGroup">
								<jr:cell height="0" rowSpan="1"/>
							</jr:groupHeader>
							<jr:groupHeader groupName="Group1">
								<jr:cell height="0" rowSpan="1"/>
							</jr:groupHeader>
							<jr:columnHeader height="18" rowSpan="1">
								<staticText>
									<reportElement mode="Opaque" x="0" y="0" width="49" height="18" backcolor="#8DB4E2" uuid="6bc4a1eb-e5ee-4d72-921a-c2f12e7a6807"/>
									<box>
										<topPen lineWidth="0.5" lineColor="#1F497D"/>
										<leftPen lineWidth="0.5" lineColor="#1F497D"/>
										<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
										<rightPen lineWidth="0.5" lineColor="#1F497D"/>
									</box>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Arial" size="10" isBold="true"/>
									</textElement>
									<text><![CDATA[Payment]]></text>
								</staticText>
							</jr:columnHeader>
							<jr:detailCell style="table 1_TD" height="25" rowSpan="1">
								<textField isStretchWithOverflow="true">
									<reportElement x="0" y="0" width="49" height="25" uuid="bb5654c4-668d-4c08-a2b3-1eb0b7ad2742"/>
									<box>
										<topPen lineWidth="0.5" lineColor="#1F497D"/>
										<leftPen lineWidth="0.5" lineColor="#1F497D"/>
										<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
										<rightPen lineWidth="0.5" lineColor="#1F497D"/>
									</box>
									<textElement verticalAlignment="Middle">
										<font fontName="Arial" size="10"/>
										<paragraph leftIndent="1"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{PAYMENT_TERM}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
					</jr:columnGroup>
					<jr:column width="83" uuid="46feb98d-ca8e-43b1-bb6a-a2e89776428e">
						<jr:groupHeader groupName="CommoidtyGroup">
							<jr:cell height="0" rowSpan="1"/>
						</jr:groupHeader>
						<jr:groupHeader groupName="Group1">
							<jr:cell height="26" rowSpan="2">
								<staticText>
									<reportElement mode="Opaque" x="0" y="0" width="83" height="26" forecolor="#FFFFFF" backcolor="#8DB4E2" uuid="834e5849-8422-4245-b442-e193866596b1"/>
									<box>
										<topPen lineWidth="0.5" lineColor="#1F497D"/>
										<leftPen lineWidth="0.5" lineColor="#1F497D"/>
										<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
										<rightPen lineWidth="0.5" lineColor="#1F497D"/>
									</box>
									<textElement>
										<font fontName="Arial" size="10"/>
									</textElement>
									<text><![CDATA[]]></text>
								</staticText>
							</jr:cell>
						</jr:groupHeader>
						<jr:columnHeader height="35" rowSpan="2">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="83" height="35" backcolor="#8DB4E2" uuid="2bf6cd23-d78e-4b6a-857f-49e43c362636"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" size="10" isBold="true"/>
								</textElement>
								<text><![CDATA[Price]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="25" rowSpan="1">
							<textField isStretchWithOverflow="true" pattern="#,##0;(#,##0)" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="83" height="25" uuid="4db747c3-2a0c-4f8f-b6ad-7ba3d03dc2ec"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" size="10"/>
									<paragraph leftIndent="1"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{INITPRICE}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="54" uuid="fc71911c-02f7-48be-95d4-fbd1549e8124">
						<jr:groupHeader groupName="CommoidtyGroup">
							<jr:cell height="0" rowSpan="1"/>
						</jr:groupHeader>
						<jr:groupHeader groupName="Group1">
							<jr:cell height="26" rowSpan="2">
								<staticText>
									<reportElement mode="Opaque" x="0" y="0" width="54" height="26" forecolor="#FFFFFF" backcolor="#8DB4E2" uuid="30fa869b-b5c1-4c91-b747-d65659193477"/>
									<box>
										<topPen lineWidth="0.5" lineColor="#1F497D"/>
										<leftPen lineWidth="0.5" lineColor="#1F497D"/>
										<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
										<rightPen lineWidth="0.5" lineColor="#1F497D"/>
									</box>
									<textElement>
										<font fontName="Arial" size="10"/>
									</textElement>
									<text><![CDATA[]]></text>
								</staticText>
							</jr:cell>
						</jr:groupHeader>
						<jr:columnHeader height="35" rowSpan="2">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="54" height="35" backcolor="#8DB4E2" uuid="53ec8140-de68-4cca-b211-13bb8d4397a3"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" size="10" isBold="true"/>
								</textElement>
								<text><![CDATA[Curr/UOM]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="25" rowSpan="1">
							<textField isStretchWithOverflow="true">
								<reportElement x="0" y="0" width="54" height="25" uuid="784b380c-db10-4da9-b407-eb1ab123820a"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement verticalAlignment="Middle">
									<font fontName="Arial" size="10"/>
									<paragraph leftIndent="1"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{PRICE_UOM}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="128" uuid="b3d9db9c-22f2-4839-b531-7907bcbee749">
						<jr:groupHeader groupName="CommoidtyGroup">
							<jr:cell height="0" rowSpan="1"/>
						</jr:groupHeader>
						<jr:groupHeader groupName="Group1">
							<jr:cell height="26" rowSpan="2">
								<staticText>
									<reportElement mode="Opaque" x="0" y="0" width="128" height="26" forecolor="#FFFFFF" backcolor="#8DB4E2" uuid="ecad708a-623c-4f8a-9c6d-274fa58a4ebe"/>
									<box>
										<topPen lineWidth="0.5" lineColor="#1F497D"/>
										<leftPen lineWidth="0.5" lineColor="#1F497D"/>
										<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
										<rightPen lineWidth="0.5" lineColor="#1F497D"/>
									</box>
									<textElement>
										<font fontName="Arial" size="10"/>
									</textElement>
									<text><![CDATA[]]></text>
								</staticText>
							</jr:cell>
						</jr:groupHeader>
						<jr:columnHeader height="35" rowSpan="2">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="128" height="35" backcolor="#8DB4E2" uuid="15331862-b97e-4c75-9127-153f2734af41"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" size="10" isBold="true"/>
								</textElement>
								<text><![CDATA[Broker]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="25" rowSpan="1">
							<textField isStretchWithOverflow="true">
								<reportElement x="0" y="0" width="128" height="25" uuid="2c07ec38-4e80-42bb-a6d7-05cc622e49ed"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement verticalAlignment="Middle">
									<font fontName="Arial" size="10"/>
									<paragraph leftIndent="1"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{BROKER}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:columnGroup width="104" uuid="7e1df8bf-9433-4ae9-b81a-3a9d3f12315d">
						<jr:groupHeader groupName="Group1">
							<jr:cell height="26" rowSpan="1">
								<staticText>
									<reportElement mode="Opaque" x="0" y="0" width="52" height="26" forecolor="#FFFFFF" backcolor="#8DB4E2" uuid="1085e019-309b-4e37-88bf-632bedd82f06"/>
									<box>
										<topPen lineWidth="0.5" lineColor="#1F497D"/>
										<leftPen lineWidth="0.5" lineColor="#1F497D"/>
										<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
										<rightPen lineWidth="0.5" lineColor="#1F497D"/>
									</box>
									<textElement>
										<font fontName="Arial"/>
									</textElement>
									<text><![CDATA[]]></text>
								</staticText>
								<staticText>
									<reportElement mode="Opaque" x="52" y="0" width="52" height="26" forecolor="#FFFFFF" backcolor="#8DB4E2" uuid="94c7e194-a69b-4253-9720-8dbfc689bf37"/>
									<box>
										<topPen lineWidth="0.5" lineColor="#1F497D"/>
										<leftPen lineWidth="0.5" lineColor="#1F497D"/>
										<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
										<rightPen lineWidth="0.5" lineColor="#1F497D"/>
									</box>
									<textElement>
										<font fontName="Arial"/>
									</textElement>
									<text><![CDATA[]]></text>
								</staticText>
							</jr:cell>
						</jr:groupHeader>
						<jr:columnHeader height="17" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="104" height="17" backcolor="#8DB4E2" uuid="cb7efa5a-425c-40c8-bfa6-d702d76ff0a0"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" size="10" isBold="true"/>
								</textElement>
								<text><![CDATA[Budget]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:column width="52" uuid="25edae65-36c0-44e1-b9c1-9ab9bf89f689">
							<jr:groupHeader groupName="CommoidtyGroup">
								<jr:cell height="0" rowSpan="1"/>
							</jr:groupHeader>
							<jr:groupHeader groupName="Group1">
								<jr:cell height="0" rowSpan="1"/>
							</jr:groupHeader>
							<jr:columnHeader height="18" rowSpan="1">
								<staticText>
									<reportElement mode="Opaque" x="0" y="0" width="52" height="18" backcolor="#8DB4E2" uuid="b1cc2975-0d38-4cda-8525-9527ee36c9a4"/>
									<box>
										<topPen lineWidth="0.5" lineColor="#1F497D"/>
										<leftPen lineWidth="0.5" lineColor="#1F497D"/>
										<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
										<rightPen lineWidth="0.5" lineColor="#1F497D"/>
									</box>
									<textElement verticalAlignment="Middle">
										<font fontName="Arial" size="10" isBold="true"/>
									</textElement>
									<text><![CDATA[Ag Com]]></text>
								</staticText>
							</jr:columnHeader>
							<jr:detailCell style="table 1_TD" height="25" rowSpan="1">
								<textField isStretchWithOverflow="true" pattern="#,##0;(#,##0)" isBlankWhenNull="true">
									<reportElement x="0" y="0" width="52" height="25" uuid="a6bd914d-08f4-46fa-82ec-1d62df934db1"/>
									<box>
										<topPen lineWidth="0.5" lineColor="#1F497D"/>
										<leftPen lineWidth="0.5" lineColor="#1F497D"/>
										<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
										<rightPen lineWidth="0.5" lineColor="#1F497D"/>
									</box>
									<textElement textAlignment="Right" verticalAlignment="Middle">
										<font fontName="Arial" size="10"/>
										<paragraph leftIndent="1"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{UNIT_COMMISSION}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
						<jr:column width="52" uuid="95ba8031-6874-4bdf-aaf0-9cfe563c1a9b">
							<jr:groupHeader groupName="CommoidtyGroup">
								<jr:cell height="0" rowSpan="1"/>
							</jr:groupHeader>
							<jr:groupHeader groupName="Group1">
								<jr:cell height="0" rowSpan="1"/>
							</jr:groupHeader>
							<jr:columnHeader height="18" rowSpan="1">
								<staticText>
									<reportElement mode="Opaque" x="0" y="0" width="52" height="18" backcolor="#8DB4E2" uuid="8c8d4e67-059e-40b7-86c1-188c8d0abf8f"/>
									<box>
										<topPen lineWidth="0.5" lineColor="#1F497D"/>
										<leftPen lineWidth="0.5" lineColor="#1F497D"/>
										<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
										<rightPen lineWidth="0.5" lineColor="#1F497D"/>
									</box>
									<textElement textAlignment="Center" verticalAlignment="Middle">
										<font fontName="Arial" size="10" isBold="true"/>
									</textElement>
									<text><![CDATA[Freight]]></text>
								</staticText>
							</jr:columnHeader>
							<jr:detailCell style="table 1_TD" height="25" rowSpan="1">
								<textField isStretchWithOverflow="true" pattern="#,##0;(#,##0)" isBlankWhenNull="true">
									<reportElement x="0" y="0" width="52" height="25" uuid="9daf1e4b-c0b3-49ee-b9a9-78b183ad8b00"/>
									<box>
										<topPen lineWidth="0.5" lineColor="#1F497D"/>
										<leftPen lineWidth="0.5" lineColor="#1F497D"/>
										<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
										<rightPen lineWidth="0.5" lineColor="#1F497D"/>
									</box>
									<textElement textAlignment="Right" verticalAlignment="Middle">
										<font fontName="Arial" size="10"/>
										<paragraph leftIndent="1"/>
									</textElement>
									<textFieldExpression><![CDATA[$F{UNIT_FREIGHT}]]></textFieldExpression>
								</textField>
							</jr:detailCell>
						</jr:column>
					</jr:columnGroup>
					<jr:column width="90" uuid="6d584211-1050-468c-9b22-186b83a642b1">
						<jr:groupHeader groupName="CommoidtyGroup">
							<jr:cell height="0" rowSpan="1"/>
						</jr:groupHeader>
						<jr:groupHeader groupName="Group1">
							<jr:cell height="26" rowSpan="2">
								<staticText>
									<reportElement mode="Opaque" x="0" y="0" width="90" height="26" forecolor="#FFFFFF" backcolor="#8DB4E2" uuid="58e93483-fd5e-422f-bf17-6c3c44f75814"/>
									<box>
										<topPen lineWidth="0.5" lineColor="#1F497D"/>
										<leftPen lineWidth="0.5" lineColor="#1F497D"/>
										<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
										<rightPen lineWidth="0.5" lineColor="#1F497D"/>
									</box>
									<textElement>
										<font fontName="Arial" size="10"/>
									</textElement>
									<text><![CDATA[]]></text>
								</staticText>
							</jr:cell>
						</jr:groupHeader>
						<jr:columnHeader height="35" rowSpan="2">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="35" backcolor="#8DB4E2" uuid="b13a9666-4594-4236-b91d-90819272a8db"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" size="10" isBold="true"/>
								</textElement>
								<text><![CDATA[Trader]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="25" rowSpan="1">
							<textField isStretchWithOverflow="true">
								<reportElement x="0" y="0" width="90" height="25" uuid="7a6e1b02-3b0f-458c-adca-2425fc8b18bc"/>
								<box>
									<topPen lineWidth="0.5" lineColor="#1F497D"/>
									<leftPen lineWidth="0.5" lineColor="#1F497D"/>
									<bottomPen lineWidth="0.5" lineColor="#1F497D"/>
									<rightPen lineWidth="0.5" lineColor="#1F497D"/>
								</box>
								<textElement verticalAlignment="Middle">
									<font fontName="Arial" size="10"/>
									<paragraph leftIndent="1"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{TRADER}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
		</band>
		<band height="282">
			<componentElement>
				<reportElement key="" mode="Transparent" x="0" y="0" width="1291" height="276" forecolor="#000000" backcolor="#8DB4E2" uuid="503be835-414e-49ca-beef-ee301dcc86fd">
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="New Dataset 1" uuid="4500852b-d191-4d78-a369-b858c9447134">
						<datasetParameter name="date_from">
							<datasetParameterExpression><![CDATA[$P{date_from}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="date_to">
							<datasetParameterExpression><![CDATA[$P{date_to_1}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="company_p">
							<datasetParameterExpression><![CDATA[$P{company_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="contract_book_p">
							<datasetParameterExpression><![CDATA[$P{contract_book_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="profit_center_group_p">
							<datasetParameterExpression><![CDATA[$P{profit_center_group_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="profit_center_p">
							<datasetParameterExpression><![CDATA[$P{profit_center_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="strategy_p">
							<datasetParameterExpression><![CDATA[$P{strategy_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="trader_group_p">
							<datasetParameterExpression><![CDATA[$P{trader_group_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="trader_p">
							<datasetParameterExpression><![CDATA[$P{trader_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="counterparty_group_p">
							<datasetParameterExpression><![CDATA[$P{counterparty_group_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="broker_p">
							<datasetParameterExpression><![CDATA[$P{broker_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="payment_term_p">
							<datasetParameterExpression><![CDATA[$P{payment_term_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="contract_term_p">
							<datasetParameterExpression><![CDATA[$P{contract_term_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="price_currency_p">
							<datasetParameterExpression><![CDATA[$P{price_currency_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="commodity_p">
							<datasetParameterExpression><![CDATA[$P{commodity_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="ship_month_p">
							<datasetParameterExpression><![CDATA[$P{ship_month_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="contract_status_p">
							<datasetParameterExpression><![CDATA[$P{contract_status_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="counterparty_p">
							<datasetParameterExpression><![CDATA[$P{counterparty_p}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="LE_Filter">
							<datasetParameterExpression><![CDATA[$F{VALUE_FIELD}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="ctrtype">
							<datasetParameterExpression><![CDATA[$P{ctrtype}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="234" uuid="1b782e47-958e-4024-b07f-7666bed623c1">
						<jr:tableFooter style="table 10_TH" height="60" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="30" width="234" height="30" forecolor="#FFFFFF" backcolor="#1F497D" uuid="b6b17b54-6c30-4d73-98d7-d1089014a27a"/>
								<box leftPadding="2" rightPadding="2"/>
								<textElement verticalAlignment="Middle">
									<font fontName="Arial" size="12" isBold="true"/>
								</textElement>
								<text><![CDATA[Grand Total]]></text>
							</staticText>
							<textField>
								<reportElement stretchType="RelativeToBandHeight" mode="Opaque" x="0" y="0" width="234" height="30" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true" backcolor="#FFFFFF" uuid="e47deea9-2746-41f2-879f-341e3257b10f"/>
								<box leftPadding="2" rightPadding="2"/>
								<textElement verticalAlignment="Middle">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{COMPANY}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:groupHeader groupName="COMMODITY">
							<jr:cell style="table 10_TH" height="30" rowSpan="1">
								<textField evaluationTime="Group" evaluationGroup="COMMODITY">
									<reportElement mode="Opaque" x="0" y="0" width="234" height="30" forecolor="#000000" backcolor="#8DB4E2" uuid="63605d82-ce78-4ef8-a33c-957fdd08343c"/>
									<box leftPadding="2" rightPadding="2"/>
									<textElement verticalAlignment="Middle">
										<font fontName="Arial" size="12"/>
									</textElement>
									<textFieldExpression><![CDATA[$V{Commonity}]]></textFieldExpression>
								</textField>
							</jr:cell>
						</jr:groupHeader>
						<jr:groupHeader groupName="PROFIT_CENTER">
							<jr:cell style="table 10_TH" height="30" rowSpan="1">
								<textField evaluationTime="Group" evaluationGroup="PROFIT_CENTER">
									<reportElement stretchType="RelativeToBandHeight" mode="Opaque" x="0" y="0" width="234" height="30" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true" backcolor="#FFFFFF" uuid="7e11b627-de57-4e42-b33f-2ccd7d746a00"/>
									<box leftPadding="2" rightPadding="2"/>
									<textElement verticalAlignment="Middle">
										<font fontName="Arial" isBold="true"/>
									</textElement>
									<textFieldExpression><![CDATA[$V{PCGrpName}]]></textFieldExpression>
								</textField>
							</jr:cell>
						</jr:groupHeader>
						<jr:detailCell style="table 10_TD" height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="723" uuid="1a6fe7bd-a854-4e54-820a-b2590a848a32">
						<jr:tableFooter style="table 10_TH" height="60" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="723" height="30" backcolor="#FFFFFF" uuid="f50ef849-6257-44bb-bcaf-05ebf548e3aa"/>
								<text><![CDATA[]]></text>
							</staticText>
							<staticText>
								<reportElement mode="Opaque" x="0" y="30" width="723" height="30" backcolor="#1F497D" uuid="d716e6bc-00f2-4f29-8c3b-babdb73a261f"/>
								<text><![CDATA[]]></text>
							</staticText>
						</jr:tableFooter>
						<jr:groupHeader groupName="COMMODITY">
							<jr:cell style="table 10_TH" height="30" rowSpan="1">
								<staticText>
									<reportElement mode="Opaque" x="0" y="0" width="723" height="30" backcolor="#8DB4E2" uuid="d81f0b59-ae74-4ee3-8641-7590975327be"/>
									<text><![CDATA[]]></text>
								</staticText>
							</jr:cell>
						</jr:groupHeader>
						<jr:groupHeader groupName="PROFIT_CENTER">
							<jr:cell style="table 10_TH" height="30" rowSpan="1">
								<staticText>
									<reportElement mode="Opaque" x="0" y="0" width="723" height="30" backcolor="#FFFFFF" uuid="4d6145b8-6213-4a30-8b9c-ce99f29142df"/>
									<text><![CDATA[]]></text>
								</staticText>
							</jr:cell>
						</jr:groupHeader>
						<jr:detailCell style="table 10_TD" height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="79" uuid="54311c1e-9067-4309-a509-b4f468c35e83">
						<jr:tableFooter style="table 10_TH" height="60" rowSpan="1">
							<textField pattern="#,##0.00;(#,##0.00)">
								<reportElement mode="Opaque" x="0" y="30" width="79" height="30" forecolor="#FFFFFF" backcolor="#1F497D" uuid="c226debe-6de2-4578-a2e2-f6d89d9cd3e6"/>
								<box leftPadding="2" rightPadding="2">
									<topPen lineWidth="0.0"/>
									<leftPen lineWidth="0.0"/>
									<bottomPen lineWidth="0.0"/>
									<rightPen lineWidth="0.0"/>
								</box>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" size="12" isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{grand_total_qty}]]></textFieldExpression>
							</textField>
							<textField pattern="#,##0.00;(#,##0.00)">
								<reportElement mode="Opaque" x="0" y="0" width="79" height="30" backcolor="#FFFFFF" uuid="89c912f2-dcc2-444d-8ad3-5004845fc3dd"/>
								<box leftPadding="2" rightPadding="2">
									<topPen lineWidth="0.0"/>
									<leftPen lineWidth="0.0"/>
									<bottomPen lineWidth="0.0"/>
									<rightPen lineWidth="0.0"/>
								</box>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{Company_totalQty}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:groupHeader groupName="COMMODITY">
							<jr:cell style="table 10_TH" height="30" rowSpan="1">
								<textField evaluationTime="Group" evaluationGroup="COMMODITY" pattern="#,##0.00;(#,##0.00)">
									<reportElement mode="Opaque" x="0" y="0" width="79" height="30" forecolor="#000000" backcolor="#8DB4E2" uuid="f0a0d70c-4210-4830-87a2-ecffa3ddd26f"/>
									<box leftPadding="2" rightPadding="2">
										<topPen lineWidth="0.0"/>
										<leftPen lineWidth="0.0"/>
										<bottomPen lineWidth="0.0"/>
										<rightPen lineWidth="0.0"/>
									</box>
									<textElement textAlignment="Right" verticalAlignment="Middle">
										<font fontName="Arial" isBold="true"/>
									</textElement>
									<textFieldExpression><![CDATA[$V{totelCommQTY}]]></textFieldExpression>
								</textField>
							</jr:cell>
						</jr:groupHeader>
						<jr:groupHeader groupName="PROFIT_CENTER">
							<jr:cell style="table 10_TH" height="30" rowSpan="1">
								<textField evaluationTime="Group" evaluationGroup="PROFIT_CENTER" pattern="#,##0.00;(#,##0.00)">
									<reportElement mode="Opaque" x="0" y="0" width="79" height="30" backcolor="#FFFFFF" uuid="87db4176-0046-40f0-ac27-95ee64bba436"/>
									<box leftPadding="2" rightPadding="2">
										<topPen lineWidth="0.0"/>
										<leftPen lineWidth="0.0"/>
										<bottomPen lineWidth="0.0"/>
										<rightPen lineWidth="0.0"/>
									</box>
									<textElement textAlignment="Right" verticalAlignment="Middle">
										<font fontName="Arial" isBold="true"/>
									</textElement>
									<textFieldExpression><![CDATA[$V{PCQty}]]></textFieldExpression>
								</textField>
							</jr:cell>
						</jr:groupHeader>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
					<jr:column width="561" uuid="6c5dbe5b-266d-4abf-9ae6-7d8847d41795">
						<jr:tableFooter style="table 10_TH" height="60" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="560" height="30" backcolor="#FFFFFF" uuid="ab2bb5c9-8356-4888-aa4a-8ea69ec102c5"/>
								<text><![CDATA[]]></text>
							</staticText>
							<staticText>
								<reportElement mode="Opaque" x="0" y="30" width="560" height="30" backcolor="#1F497D" uuid="32a4afce-aacb-4486-84c9-2ee42424e2f8"/>
								<text><![CDATA[]]></text>
							</staticText>
						</jr:tableFooter>
						<jr:groupHeader groupName="PROFIT_CENTER">
							<jr:cell style="table 10_TH" height="30" rowSpan="1">
								<staticText>
									<reportElement mode="Opaque" x="0" y="0" width="560" height="30" backcolor="#FFFFFF" uuid="1a8925ee-9224-447e-943e-7cd9c3a1678f"/>
									<text><![CDATA[]]></text>
								</staticText>
							</jr:cell>
						</jr:groupHeader>
						<jr:groupHeader groupName="COMMODITY">
							<jr:cell style="table 10_TH" height="30" rowSpan="1">
								<staticText>
									<reportElement mode="Opaque" x="0" y="0" width="560" height="30" backcolor="#8DB4E2" uuid="35019662-497f-4c3c-97a4-3b4caf415990"/>
									<text><![CDATA[]]></text>
								</staticText>
							</jr:cell>
						</jr:groupHeader>
						<jr:detailCell height="0" rowSpan="1"/>
					</jr:column>
				</jr:table>
			</componentElement>
		</band>
	</detail>
</jasperReport>
