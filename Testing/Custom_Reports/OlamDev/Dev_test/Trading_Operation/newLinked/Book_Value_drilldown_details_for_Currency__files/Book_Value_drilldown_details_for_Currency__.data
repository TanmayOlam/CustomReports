<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Book_Value_drilldown_details_for_Currency " language="groovy" pageWidth="1190" pageHeight="842" orientation="Landscape" columnWidth="1150" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="99e9b555-c650-4344-a349-2294c5f4bd4c">
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="557"/>
	<property name="ireport.y" value="0"/>
	<property name="net.sf.jasperreports.export.xls.fit.width" value="1"/>
	<property name="net.sf.jasperreports.export.pdf.size.page.to.content" value="true"/>
	<property name="net.sf.jasperreports.export.xls.ignore.graphics" value="false"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<property name="net.sf.jasperreports.export.xls.ignore.cell.border" value="false"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="SQL Server"/>
	<property name="net.sf.jasperreports.export.xls.fit.height" value="0"/>
	<style name="Table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_CH" mode="Opaque" backcolor="#8DB4E2" fontName="Arial">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.0" lineColor="#000000"/>
			<leftPen lineWidth="0.0" lineColor="#000000"/>
			<bottomPen lineWidth="0.0" lineColor="#000000"/>
			<rightPen lineWidth="0.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table 1_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table 1_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table 1_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table 2_TH" mode="Opaque" backcolor="#FFCC00">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table 2_CH" mode="Opaque" backcolor="#FFCC00">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table 2_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table 3_TH" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table 3_CH" mode="Opaque" backcolor="#FFCC00">
		<box leftPadding="0" rightPadding="0">
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table 3_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#FFCC00" hAlign="Center" vAlign="Middle">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
			<topPen lineWidth="0.0"/>
			<leftPen lineWidth="0.0"/>
			<bottomPen lineWidth="0.0"/>
			<rightPen lineWidth="0.0"/>
		</box>
	</style>
	<style name="table 1_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
			<topPen lineWidth="0.0"/>
			<leftPen lineWidth="0.0"/>
			<bottomPen lineWidth="0.0"/>
			<rightPen lineWidth="0.0"/>
		</box>
	</style>
	<style name="table 2_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<subDataset name="forex" uuid="2900c8ad-b47a-4f9a-a94d-3c28a9e162fc">
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="Local DB"/>
		<parameter name="ctrbook" class="java.util.Collection"/>
		<parameter name="asofdate" class="java.util.Date"/>
		<parameter name="currency" class="java.util.Collection"/>
		<parameter name="pc" class="java.util.Collection"/>
		<parameter name="alloc_grp" class="java.util.Collection"/>
		<queryString>
			<![CDATA[SELECT *
FROM   (SELECT PNL.CONTRACT_BOOK,
               CASE WHEN PNL.ALLOCATION_TYPE IN ('B2B', 'B2B_CROSS_COMMODITY', 'STRING') AND PNL.INSTRUMENT_TYPE = 'PHYSICAL' THEN 'Linked' ELSE 'Unlinked' END + CASE WHEN PNL.LONG_SHORT = 'LONG' THEN ' Purchase - OIL' ELSE ' Sales - OIL' END AS ALLOCATION_GROUP,
               PNL.COMMODITY                                                                                                                                                                                                           AS PRODUCT,
               PNL.PROFIT_CENTER                                                                                                                                                                                                       AS UNIT,
               PNL.POSITION_REF                                                                                                                                                                                                        AS COVER_NO,
               PNL.EXPIRED_DATE                                                                                                                                                                                                        AS VALUE_DATE,
               MTHMAP.MONTHNUMBER                                                                                                                                                                                                      AS EXPIRED_MONTH,
               PNL.CURRENT_OPEN_QUANTITY * CASE
                                                 WHEN PNL.LONG_SHORT = 'SHORT' THEN 1
                                                 ELSE -1
                                               END                                                                                                                                                                                     AS COVER_AMOUNT,
               PNL.POSITION_CURRENCY                                                                                                                                                                                                   AS CCY,
               ISNULL(YTD.CURRENT_POS_TO_REF_FXRATE,PNL.CURRENT_POSITION_PRICE)                                                                                                                                                                                              AS COVER_RATE,
               PNL.CURRENT_OPEN_QUANTITY * ISNULL(YTD.CURRENT_POS_TO_REF_FXRATE,PNL.CURRENT_POSITION_PRICE) * CASE
                                                                                 WHEN PNL.LONG_SHORT = 'SHORT' THEN -1
                                                                                 ELSE 1
                                                                               END                                                                                                                                                     AS COVER_AMOUNT_USD,
               PNL.POSITION_DATE                                                                                                                                                                                                       AS DEAL_DATE,
               PNL.CURRENT_POS_TO_REF_FXRATE                                                                                                                                                                                           AS FORWARD_RATE,
               SPOT_RATE.RATE                                                                                                                                                                                                          AS SPOT_RATE,
               PNL.CURRENT_OPEN_QUANTITY * PNL.CURRENT_POS_TO_REF_FXRATE * CASE
                                                                                 WHEN PNL.LONG_SHORT = 'SHORT' THEN -1
                                                                                 ELSE 1
                                                                               END                                                                                                                    AS MARKET_VALUE,
                PNL.YEAR_TO_DATE_PNL_IN_RPT                                                              AS PnL,
               PNL.BASIS_MARKET_PRICE_INDEX,
               CASE
                 WHEN Isnull(PNL.PRICING_TYPE, 'PRICED') != 'PRICED'
                      AND PNL.ALLOCATION_ID = PNL.PRICING_ID THEN 'BASIS'
                 ELSE 'COMMODITY'
               END                                                                                                                                                                                                                     AS EVENT_TYPE
        FROM   (SELECT _PNL.*,
                       _PNL.CURRENT_OPEN_QUANTITY - Isnull(FIFO.REALIZED_QUANTITY, 0) AS OPEN_QTY_AFTER_FIFO
                FROM   DAILY_PNL_ATTRIBUTION _PNL
                       LEFT JOIN (SELECT SALES_POSITION_ID      AS POSITION_ID,
                                         INSTRUMENT_TYPE,
                                         Sum(REALIZED_QUANTITY) AS REALIZED_QUANTITY
                                  FROM   DAILY_PNL_REALIZATION_FIFO_MATCH
                                  GROUP  BY SALES_POSITION_ID,
                                            INSTRUMENT_TYPE
                                  UNION ALL
                                  SELECT PURCHASE_POSITION_ID   AS POSITION_ID,
                                         INSTRUMENT_TYPE,
                                         Sum(REALIZED_QUANTITY) AS REALIZED_QUANTITY
                                  FROM   DAILY_PNL_REALIZATION_FIFO_MATCH
                                  GROUP  BY PURCHASE_POSITION_ID,
                                            INSTRUMENT_TYPE)FIFO
                              ON FIFO.POSITION_ID = _PNL.POSITION_ID
                                 AND FIFO.INSTRUMENT_TYPE = _PNL.INSTRUMENT_TYPE
                WHERE  Abs(_PNL.CURRENT_OPEN_QUANTITY) > 0
                       AND Abs(_PNL.CURRENT_OPEN_QUANTITY) > Abs(Isnull(FIFO.REALIZED_QUANTITY, 0)))PNL
               JOIN DAILY_CONTRACT_DATA C
                 ON C.POSITION_ID = PNL.POSITION_ID
				 AND C.INSTRUMENT_TYPE = PNL.INSTRUMENT_TYPE
               LEFT JOIN BI_MONTHQUARTERMAPPING MTHMAP
                      ON PNL.EXPIRED_DATE >= MTHMAP.STARTPERIOD
                         AND PNL.EXPIRED_DATE <= MTHMAP.ENDPERIOD
               LEFT JOIN DAILY_SPOT_FX_RATE SPOT_RATE
                      ON PNL.CONTRACT_BOOK = SPOT_RATE.CONTRACT_BOOK
                         AND PNL.EOD_DATE = SPOT_RATE.EOD_DATE
                         AND PNL.POSITION_CURRENCY = SPOT_RATE.SOURCE_CURRENCY
                         AND PNL.REFERENCE_CURRENCY = SPOT_RATE.TARGET_CURRENCY
				LEFT JOIN (SELECT
						  A.POSITION_REF,
						  A.INSTRUMENT_TYPE,
						  A.CURRENT_POS_TO_REF_FXRATE
						FROM DAILY_PNL_ATTRIBUTION A
						JOIN DAILY_CONTRACT_DATA C
						  ON C.POSITION_ID = A.POSITION_ID
						  AND A.INSTRUMENT_TYPE = C.INSTRUMENT_TYPE
						WHERE A.INSTRUMENT_TYPE IN ('FOREX')
						AND A.EOD_DATE = (SELECT
						  MAX(EOD_DATE)
						FROM DAILY_PNL_ATTRIBUTION D
						WHERE D.EOD_DATE <= DATEADD(yy, DATEDIFF(yy, 0, $P{asofdate}), 0) - 1)
						AND DATEPART(yyyy, A.POSITION_DATE) <= DATEPART(yyyy, $P{asofdate})) YTD
					ON PNL.POSITION_REF = YTD.POSITION_REF
						AND PNL.INSTRUMENT_TYPE = YTD.INSTRUMENT_TYPE
        WHERE  PNL.INSTRUMENT_TYPE = 'FOREX'
               AND PNL.EOD_DATE = $P{asofdate}
			   AND DATEPART(yyyy,PNL.EOD_DATE) = DATEPART(yyyy,$P{asofdate})
        UNION ALL
        SELECT PNL.CONTRACT_BOOK,
               CASE
                 WHEN PNL.EOD_DATE < CD.START_DATE THEN 'Booked Till Last Month End'
                 ELSE 'Booked For The Month'
               END                                                                                                                                                      AS ALLOCATION_GROUP,
               PNL.COMMODITY                                                                                                                                            AS PRODUCT,
               PNL.PROFIT_CENTER                                                                                                                                        AS UNIT,
               PNL.POSITION_REF                                                                                                                                         AS COVER_NO,
               PNL.EXPIRED_DATE                                                                                                                                         AS VALUE_DATE,
               MTHMAP.MONTHNUMBER                                                                                                                                       AS EXPIRED_MONTH,
               PNL.CURRENT_POSITION_QUANTITY * CASE
                                                 WHEN PNL.LONG_SHORT = 'SHORT' THEN 1
                                                 ELSE -1
                                               END                                                                                                                      AS COVER_AMOUNT,
               PNL.POSITION_CURRENCY                                                                                                                                    AS CCY,
               ISNULL(YTD.CURRENT_POS_TO_REF_FXRATE,PNL.CURRENT_POSITION_PRICE)                                                                                            AS COVER_RATE,
               PNL.CURRENT_POSITION_QUANTITY * ISNULL(YTD.CURRENT_POS_TO_REF_FXRATE,PNL.CURRENT_POSITION_PRICE)  * CASE
                                                                                 WHEN PNL.LONG_SHORT = 'SHORT' THEN -1
                                                                                 ELSE 1
                                                                               END                                                                                      AS COVER_AMOUNT_USD,
               PNL.POSITION_DATE                                                                                                                                        AS DEAL_DATE,
               PNL.CURRENT_POS_TO_REF_FXRATE                                                                                                                            AS FORWARD_RATE,
               SPOT_RATE.RATE                                                                                                                                           AS SPOT_RATE,
               PNL.CURRENT_OPEN_QUANTITY * PNL.CURRENT_POS_TO_REF_FXRATE * CASE
                                                                                 WHEN PNL.LONG_SHORT = 'SHORT' THEN -1
                                                                                 ELSE 1
                                                                               END                                                    AS MARKET_VALUE,
               PNL.CURRENT_POSITION_PRICE * PNL.CURRENT_REALIZED_QUANTITY AS PnL,
               PNL.BASIS_MARKET_PRICE_INDEX,
               CASE
                 WHEN Isnull(PNL.PRICING_TYPE, 'PRICED') != 'PRICED'
                      AND PNL.ALLOCATION_ID = PNL.PRICING_ID THEN 'BASIS'
                 ELSE 'COMMODITY'
               END                                                                                                                                                      AS EVENT_TYPE
        FROM   DAILY_PNL_ATTRIBUTION PNL
               JOIN DAILY_CONTRACT_DATA C
                 ON C.POSITION_ID = PNL.POSITION_ID
				 AND C.INSTRUMENT_TYPE = PNL.INSTRUMENT_TYPE
               JOIN EXTRACTED_FINANCIAL_CALENDAR_DETAIL CD
                 ON $P{asofdate} BETWEEN CD.START_DATE AND CD.END_DATE
                   AND PNL.CONTRACT_BOOK IN (SELECT CONTRACT_BOOK
                                              FROM   EXTRACTED_FINANCIAL_CALENDAR_HEADER CH
                                              WHERE  CH.GROUP_ID = CD.GROUP_ID)
			   LEFT JOIN (SELECT DISTINCT POSITION_ID
                          FROM   DAILY_PNL_REALIZATION) R
                      ON PNL.POSITION_ID = R.POSITION_ID
               JOIN (SELECT A.CONTRACT_BOOK, MAX(EOD_DATE) AS EOD_DATE,
							1 AS REALIZED
                     FROM   DAILY_PNL_ATTRIBUTION A
                            JOIN (SELECT DISTINCT POSITION_ID
                                  FROM   DAILY_PNL_REALIZATION) R
                              ON A.POSITION_ID = R.POSITION_ID
                     WHERE  CURRENT_OPEN_QUANTITY > 0
                            AND EOD_DATE <= $P{asofdate}
                     GROUP  BY A.CONTRACT_BOOK
                     UNION
                     SELECT A.CONTRACT_BOOK, MAX(EOD_DATE) AS EOD_DATE,
							0 AS REALIZED
                     FROM   DAILY_PNL_ATTRIBUTION A
                            LEFT JOIN (SELECT DISTINCT POSITION_ID
                                       FROM   DAILY_PNL_REALIZATION) R
                                   ON A.POSITION_ID = R.POSITION_ID
                     WHERE  CURRENT_OPEN_QUANTITY > 0
                            AND R.POSITION_ID IS NULL
                            AND EOD_DATE <= $P{asofdate}
					 GROUP BY A.CONTRACT_BOOK
                    ) MAX_EOD_DATE
                 ON PNL.EOD_DATE = MAX_EOD_DATE.EOD_DATE
					AND CASE
                          WHEN R.POSITION_ID IS NULL THEN 0
                          ELSE 1
                        END = MAX_EOD_DATE.REALIZED
					AND PNL.CONTRACT_BOOK = MAX_EOD_DATE.CONTRACT_BOOK
               LEFT JOIN BI_MONTHQUARTERMAPPING MTHMAP
                      ON PNL.EXPIRED_DATE >= MTHMAP.STARTPERIOD
                         AND PNL.EXPIRED_DATE <= MTHMAP.ENDPERIOD
               LEFT JOIN DAILY_SPOT_FX_RATE SPOT_RATE
                      ON PNL.CONTRACT_BOOK = SPOT_RATE.CONTRACT_BOOK
                         AND PNL.EOD_DATE = SPOT_RATE.EOD_DATE
                         AND PNL.POSITION_CURRENCY = SPOT_RATE.SOURCE_CURRENCY
                         AND PNL.REFERENCE_CURRENCY = SPOT_RATE.TARGET_CURRENCY
               LEFT JOIN (SELECT
						  A.POSITION_REF,
						  A.INSTRUMENT_TYPE,
						  A.CURRENT_POS_TO_REF_FXRATE
						FROM DAILY_PNL_ATTRIBUTION A
						JOIN DAILY_CONTRACT_DATA C
						  ON C.POSITION_ID = A.POSITION_ID
						  AND A.INSTRUMENT_TYPE = C.INSTRUMENT_TYPE
						WHERE A.INSTRUMENT_TYPE IN ('FOREX')
						AND A.EOD_DATE = (SELECT
						  MAX(EOD_DATE)
						FROM DAILY_PNL_ATTRIBUTION D
						WHERE D.EOD_DATE <= DATEADD(yy, DATEDIFF(yy, 0, $P{asofdate}), 0) - 1)
						AND DATEPART(yyyy, A.POSITION_DATE) <= DATEPART(yyyy, $P{asofdate})) YTD
					ON PNL.POSITION_REF = YTD.POSITION_REF
						AND PNL.INSTRUMENT_TYPE = YTD.INSTRUMENT_TYPE
        WHERE  PNL.CURRENT_REALIZED_QUANTITY > 0
			   AND PNL.INSTRUMENT_TYPE = 'FOREX'
               AND PNL.EOD_DATE <= $P{asofdate}
			   AND MAX_EOD_DATE.EOD_DATE = $P{asofdate}
			   AND DATEPART(yyyy,PNL.EOD_DATE) = DATEPART(yyyy,$P{asofdate})
			   )L1
WHERE $X{IN,CONTRACT_BOOK,ctrbook}
AND  $X{IN,CCY,currency}
AND  $X{IN,ALLOCATION_GROUP,alloc_grp}
AND  $X{IN,UNIT,pc}
AND ((L1.EVENT_TYPE = 'BASIS') OR L1.EVENT_TYPE = 'COMMODITY')
ORDER  BY DEAL_DATE,
          COVER_NO]]>
		</queryString>
		<field name="CONTRACT_BOOK" class="java.lang.String"/>
		<field name="ALLOCATION_GROUP" class="java.lang.String"/>
		<field name="PRODUCT" class="java.lang.String"/>
		<field name="UNIT" class="java.lang.String"/>
		<field name="COVER_NO" class="java.lang.String"/>
		<field name="VALUE_DATE" class="java.sql.Date"/>
		<field name="EXPIRED_MONTH" class="java.lang.Integer"/>
		<field name="COVER_AMOUNT" class="java.math.BigDecimal"/>
		<field name="CCY" class="java.lang.String"/>
		<field name="COVER_RATE" class="java.math.BigDecimal"/>
		<field name="COVER_AMOUNT_USD" class="java.math.BigDecimal"/>
		<field name="DEAL_DATE" class="java.sql.Date"/>
		<field name="FORWARD_RATE" class="java.math.BigDecimal"/>
		<field name="SPOT_RATE" class="java.math.BigDecimal"/>
		<field name="MARKET_VALUE" class="java.math.BigDecimal"/>
		<field name="PnL" class="java.math.BigDecimal"/>
		<field name="BASIS_MARKET_PRICE_INDEX" class="java.lang.String"/>
		<field name="EVENT_TYPE" class="java.lang.String"/>
		<variable name="MARKET_VALUE" class="java.math.BigDecimal" calculation="Sum">
			<variableExpression><![CDATA[$F{MARKET_VALUE}]]></variableExpression>
		</variable>
		<variable name="PNL" class="java.math.BigDecimal" calculation="Sum">
			<variableExpression><![CDATA[$F{PnL}]]></variableExpression>
		</variable>
		<variable name="COVER_AMT" class="java.math.BigDecimal" calculation="Sum">
			<variableExpression><![CDATA[$F{COVER_AMOUNT_USD}]]></variableExpression>
		</variable>
	</subDataset>
	<parameter name="ctrbook" class="java.util.Collection"/>
	<parameter name="asofdate" class="java.util.Date"/>
	<parameter name="currency" class="java.util.Collection"/>
	<parameter name="pc" class="java.util.Collection"/>
	<parameter name="alloc_grp" class="java.util.Collection"/>
	<queryString>
		<![CDATA[SELECT 1 AS ID]]>
	</queryString>
	<field name="ID" class="java.lang.Integer"/>
	<variable name="currentpage" class="java.lang.Integer" resetType="Page" incrementType="Page">
		<initialValueExpression><![CDATA[$V{PAGE_NUMBER}]]></initialValueExpression>
	</variable>
	<title>
		<band height="60" splitType="Stretch">
			<property name="local_mesure_unitheight" value="pixel"/>
			<image scaleImage="FillFrame" onErrorType="Blank">
				<reportElement mode="Opaque" x="0" y="0" width="30" height="30" backcolor="#1F497D" uuid="b5453d11-c0b7-48a7-b4d2-2098d19d418d">
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
					<property name="net.sf.jasperreports.export.xls.column.width.ratio" value="1.15"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.5" lineColor="#4F81BD"/>
					<leftPen lineWidth="0.5" lineColor="#4F81BD"/>
					<bottomPen lineWidth="0.5" lineColor="#4F81BD"/>
					<rightPen lineWidth="0.5" lineColor="#4F81BD"/>
				</box>
				<imageExpression><![CDATA["repo:reponew_logo.png"]]></imageExpression>
			</image>
			<textField>
				<reportElement mode="Opaque" x="30" y="0" width="827" height="30" forecolor="#FFFFFF" backcolor="#1F497D" uuid="34e02260-8f0d-4e75-b409-59a579348dbd">
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
				<box leftPadding="10" rightPadding="2">
					<topPen lineWidth="0.5" lineColor="#4F81BD"/>
					<leftPen lineWidth="0.5" lineColor="#4F81BD"/>
					<bottomPen lineWidth="0.5" lineColor="#4F81BD"/>
					<rightPen lineWidth="0.0" lineColor="#4F81BD"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="13" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Book Value drilldown details for Currency as of Date : " + DATEFORMAT($P{asofdate}, "dd-MMM-yy")]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement mode="Opaque" x="857" y="0" width="441" height="30" forecolor="#FFFFFF" backcolor="#1F497D" uuid="9af73300-0c15-4af3-873a-7a570064ee21">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
				<box leftPadding="2" rightPadding="2">
					<topPen lineWidth="0.5" lineColor="#4F81BD"/>
					<leftPen lineWidth="0.0" lineColor="#4F81BD"/>
					<bottomPen lineWidth="0.5" lineColor="#4F81BD"/>
					<rightPen lineWidth="0.5" lineColor="#4F81BD"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="13" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Run Date : "+DATEFORMAT(TODAY( ),"dd-MMM-yy h:mm:ss a")]]></textFieldExpression>
			</textField>
			<textField pattern="">
				<reportElement mode="Opaque" x="0" y="30" width="1298" height="30" forecolor="#FFFFFF" backcolor="#1F497D" uuid="bad88535-154a-4e33-8bea-9eb91b6d1c33">
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.5" lineColor="#4F81BD"/>
					<leftPen lineWidth="0.5" lineColor="#4F81BD"/>
					<bottomPen lineWidth="0.5" lineColor="#4F81BD"/>
					<rightPen lineWidth="0.5" lineColor="#4F81BD"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="13" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Contract Book : "+(!$P{ctrbook}.isEmpty()? $P{ctrbook}.toString():"All") +"  "+" Unit : "+(!$P{pc}.isEmpty()? $P{pc}.toString():"All")+"  "+"  Currency : "+(!$P{currency}.isEmpty()? $P{currency}.toString():"All")]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band splitType="Stretch">
			<property name="local_mesure_unitheight" value="pixel"/>
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
		</band>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch">
			<property name="local_mesure_unitheight" value="pixel"/>
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
		</band>
	</columnHeader>
	<detail>
		<band height="92" splitType="Stretch">
			<property name="local_mesure_unitheight" value="pixel"/>
			<componentElement>
				<reportElement key="table 1" style="table 1" x="0" y="0" width="1170" height="90" uuid="c003ea9d-d6e6-4ab6-87ce-e8f2c09a7f3c">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="forex" uuid="43d7007f-b0e9-4446-8c6c-894426edeb30">
						<datasetParameter name="ctrbook">
							<datasetParameterExpression><![CDATA[$P{ctrbook}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="asofdate">
							<datasetParameterExpression><![CDATA[$P{asofdate}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="currency">
							<datasetParameterExpression><![CDATA[$P{currency}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="pc">
							<datasetParameterExpression><![CDATA[$P{pc}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="alloc_grp">
							<datasetParameterExpression><![CDATA[$P{alloc_grp}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="90" uuid="90b33d4a-6980-4d9b-b0a7-db42e9d23cae">
						<jr:tableFooter height="30" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" backcolor="#8DB4E2" uuid="97d246d6-e419-4758-a63e-22b47f5acf5a"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement verticalAlignment="Middle">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<text><![CDATA[Total]]></text>
							</staticText>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" backcolor="#8DB4E2" uuid="ad33a6ab-32e9-4093-aaa3-5748fe997cf5"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<text><![CDATA[Product]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<textField isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="30" uuid="22ad5f1b-8cf0-4406-9e18-264edb30d2ba"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement verticalAlignment="Middle">
									<font fontName="Arial" size="11"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{PRODUCT}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="204" uuid="ad7ca256-4794-43dd-87cc-ca89367b4a3e">
						<jr:tableFooter height="30" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="204" height="30" forecolor="#000000" backcolor="#8DB4E2" uuid="a2ec39c6-aa64-4016-888f-b06da7713b37"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" markup="none">
									<font fontName="Arial" size="11" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
									<paragraph lineSpacing="Single"/>
								</textElement>
								<text><![CDATA[]]></text>
							</staticText>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="204" height="30" backcolor="#8DB4E2" uuid="0fc4220e-d88e-43a8-be19-b7afa3505ff8"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<text><![CDATA[Unit]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<textField isBlankWhenNull="true">
								<reportElement x="0" y="0" width="204" height="30" uuid="39c13f7a-f37c-413f-86e2-9db1087cbb2c"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement verticalAlignment="Middle">
									<font fontName="Arial" size="11"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{UNIT}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="104" uuid="4ac76b46-0c6e-4c49-9e26-b44e427a9ec6">
						<jr:tableFooter height="30" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="104" height="30" backcolor="#8DB4E2" uuid="ae90ceae-be29-478e-b45e-f1ff4f66f405"/>
								<box leftPadding="4" rightPadding="4"/>
								<text><![CDATA[]]></text>
							</staticText>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="104" height="30" backcolor="#8DB4E2" uuid="aa08f7d2-f7e8-4327-aad5-36d16947abe5"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<text><![CDATA[Cover No]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<textField isBlankWhenNull="true">
								<reportElement x="0" y="0" width="104" height="30" uuid="7093ea7e-5637-4a3b-82cc-448a5980d178"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement verticalAlignment="Middle">
									<font fontName="Arial" size="11"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{COVER_NO}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="ef01fdb6-017f-47fb-a91e-bd379696952e">
						<jr:tableFooter height="30" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" backcolor="#8DB4E2" uuid="e3af3402-7abb-470d-88aa-6401193a94e2"/>
								<box leftPadding="4" rightPadding="4"/>
								<text><![CDATA[]]></text>
							</staticText>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" backcolor="#8DB4E2" uuid="573e1af0-7500-46cd-8fef-bf689977d717"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<text><![CDATA[Value Date]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<textField pattern="dd-MMM-yy" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="30" uuid="663fd8cc-c8ca-4989-bc5a-49a8ae3fe070"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" size="11"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{VALUE_DATE}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="ae0522a5-608e-431b-8316-4f0c15d0e7aa">
						<jr:tableFooter height="30" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" backcolor="#8DB4E2" uuid="5e0b6fd7-8164-44cd-ac43-e6a93a6e6376"/>
								<box leftPadding="4" rightPadding="4"/>
								<text><![CDATA[]]></text>
							</staticText>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" backcolor="#8DB4E2" uuid="2d0e4d23-1dd6-4af0-90b2-3ab712b5d81c"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<text><![CDATA[Cover Amount]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<textField pattern="#,##0;(#,##0)" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="30" uuid="e6636653-78a4-482d-bbae-9f95007a715b"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" size="11"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{COVER_AMOUNT}]]></textFieldExpression>
							</textField>
							<textField pattern="#,##0;(#,##0)" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="30" forecolor="#FF0000" uuid="64f231de-8bb1-4170-bc98-c25a6c6ef8b8">
									<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
									<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
									<printWhenExpression><![CDATA[$F{COVER_AMOUNT}.intValue()<0]]></printWhenExpression>
								</reportElement>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" size="11"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{COVER_AMOUNT}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="2b4e27cb-8755-4797-801d-0d9dcd103ee6">
						<jr:tableFooter height="30" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" backcolor="#8DB4E2" uuid="f44ef3b9-09cf-4bf1-b4f2-de18209161cd"/>
								<box leftPadding="4" rightPadding="4"/>
								<text><![CDATA[]]></text>
							</staticText>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" backcolor="#8DB4E2" uuid="d9e8a54a-9a7c-46b4-962d-f8d78767ff3d"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<text><![CDATA[Ccy]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<textField isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="30" uuid="6326814a-385e-44e0-84bd-4b540f07235a"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement verticalAlignment="Middle">
									<font fontName="Arial" size="11"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{CCY}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="79d6f734-9b1f-4e16-baf9-05299886911a">
						<jr:tableFooter height="30" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" backcolor="#8DB4E2" uuid="93cb5291-f43d-4eeb-b915-1e28391a6705"/>
								<box leftPadding="4" rightPadding="4"/>
								<text><![CDATA[]]></text>
							</staticText>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" backcolor="#8DB4E2" uuid="7137e4b0-6a84-47d4-b4e7-9930d7e777cb"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<text><![CDATA[Cover Rate]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<textField pattern="#,##0.0000000000;(#,##0.0000000000)" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="30" uuid="5ea59282-9905-4a35-a1c5-0bea0f4297a4"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" size="11"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{COVER_RATE}]]></textFieldExpression>
							</textField>
							<textField pattern="#,##0.0000;(#,##0.0000)" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="30" forecolor="#FF0000" uuid="6d6b853d-bac8-4a2f-a7bc-d7663b662e15">
									<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
									<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
									<printWhenExpression><![CDATA[$F{COVER_RATE}.intValue()<0]]></printWhenExpression>
								</reportElement>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" size="11"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{COVER_RATE}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="46e0bda0-532d-45aa-8724-c9a03b820f62">
						<jr:tableFooter height="30" rowSpan="1">
							<textField pattern="#,##0;(#,##0)" isBlankWhenNull="true">
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" backcolor="#8DB4E2" uuid="c6461ac4-4ad3-4ee1-a4a4-2c074caea05d"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{COVER_AMT}]]></textFieldExpression>
							</textField>
							<textField pattern="#,##0;(#,##0)" isBlankWhenNull="true">
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" forecolor="#FF0000" backcolor="#8DB4E2" uuid="c36d2420-2462-496c-90e0-34e9f8174ac5">
									<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
									<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
								</reportElement>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{COVER_AMT}.intValue()<0 ? $V{COVER_AMT} : null]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" backcolor="#8DB4E2" uuid="733c8614-d3e4-4077-81db-9fb5d34df5d5"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<text><![CDATA[Cover Amount (USD)]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<textField pattern="#,##0;(#,##0)" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="30" uuid="73c4d25f-8f86-40e9-93ab-8660db4ac819"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" size="11"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{COVER_AMOUNT_USD}]]></textFieldExpression>
							</textField>
							<textField pattern="#,##0;(#,##0)" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="30" forecolor="#FF0000" uuid="368e78bf-aeca-45b4-ba18-2cbefccba33a">
									<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
									<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
									<printWhenExpression><![CDATA[$F{COVER_AMOUNT_USD}.intValue()<0]]></printWhenExpression>
								</reportElement>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" size="11"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{COVER_AMOUNT_USD}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="97166f6c-2896-45c3-90de-45d16cca5c7d">
						<jr:tableFooter height="30" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" backcolor="#8DB4E2" uuid="6c863f61-aad5-4456-be6a-10ad66bd6da7"/>
								<box leftPadding="4" rightPadding="4"/>
								<text><![CDATA[]]></text>
							</staticText>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" backcolor="#8DB4E2" uuid="7e54c1a3-8a50-4172-adbe-a9e54917eea6"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<text><![CDATA[Deal Date]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<textField pattern="dd-MMM-yy" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="30" uuid="c775cd0b-2a8d-47c1-af61-c68b72779cfc"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" size="11"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{DEAL_DATE}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="fb07dacd-cd8c-4470-938d-c29b9f4b24df">
						<jr:tableFooter height="30" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" backcolor="#8DB4E2" uuid="df53c739-ffb1-4191-b302-0b0aaec6bd0f"/>
								<box leftPadding="4" rightPadding="4"/>
								<text><![CDATA[]]></text>
							</staticText>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" backcolor="#8DB4E2" uuid="61929505-425d-4d17-9e62-d9fd1d2175c8"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<text><![CDATA[Forward Rate]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<textField pattern="#,##0.0000;(#,##0.0000)" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="30" uuid="8ae10b2e-2433-4e68-be82-d1384f5b7594"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" size="11"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{FORWARD_RATE}]]></textFieldExpression>
							</textField>
							<textField pattern="#,##0.0000;(#,##0.0000)" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="30" forecolor="#FF0000" uuid="21636f70-198a-4e2a-851b-c67385641e6b">
									<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
									<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
									<printWhenExpression><![CDATA[$F{FORWARD_RATE}.intValue() < 0]]></printWhenExpression>
								</reportElement>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" size="11"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{FORWARD_RATE}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="40350d5f-0eb5-4ea4-a710-a268cf54f914">
						<jr:tableFooter height="30" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" backcolor="#8DB4E2" uuid="478a6998-e20c-4494-bcf1-49fe01d81f5d"/>
								<box leftPadding="4" rightPadding="4"/>
								<text><![CDATA[]]></text>
							</staticText>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" backcolor="#8DB4E2" uuid="626f71e6-c213-4839-b29b-e7a7856c91f4"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<text><![CDATA[Spot Rate]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<textField pattern="#,##0.0000;(#,##0.0000)" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="30" uuid="c22abfd9-4113-4bec-b6a8-8db1c0b056cf"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" size="11"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{SPOT_RATE}]]></textFieldExpression>
							</textField>
							<textField pattern="#,##0.0000;(#,##0.0000)" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="30" forecolor="#FF0000" uuid="b4128f93-2a49-4398-b304-4da317387844">
									<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
									<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
									<printWhenExpression><![CDATA[$F{SPOT_RATE}.intValue() < 0]]></printWhenExpression>
								</reportElement>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" size="11"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{SPOT_RATE}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="ad6dadca-ed99-4820-8ed2-fafb2d0677c9">
						<jr:tableFooter height="30" rowSpan="1">
							<textField pattern="#,##0;(#,##0)" isBlankWhenNull="true">
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" backcolor="#8DB4E2" uuid="cad427e2-2fd9-4863-8261-e8ec893a46b0"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{MARKET_VALUE}]]></textFieldExpression>
							</textField>
							<textField pattern="#,##0;(#,##0)" isBlankWhenNull="true">
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" forecolor="#FF0000" backcolor="#8DB4E2" uuid="9d24e463-01cb-49f0-8a4a-3871e72bced1">
									<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
									<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
								</reportElement>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{MARKET_VALUE}.intValue()<0 ? $V{MARKET_VALUE} : null]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" backcolor="#8DB4E2" uuid="117e342f-d655-4882-b15a-77235b519a6b"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<text><![CDATA[Market Value]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<textField pattern="#,##0;(#,##0)" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="30" uuid="e39fc794-b62b-4045-bca2-e5cc08593f1e"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" size="11"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{MARKET_VALUE}]]></textFieldExpression>
							</textField>
							<textField pattern="#,##0;(#,##0)" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="30" forecolor="#FF0000" uuid="db545b9d-cd0e-4b83-b266-04c3f7c3468d">
									<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
									<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
									<printWhenExpression><![CDATA[$F{MARKET_VALUE}.intValue()<0]]></printWhenExpression>
								</reportElement>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" size="11"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{MARKET_VALUE}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="9dcff857-9c5a-4f39-96ba-94ee1f71c985">
						<jr:tableFooter height="30" rowSpan="1">
							<textField pattern="#,##0;(#,##0)" isBlankWhenNull="true">
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" backcolor="#8DB4E2" uuid="c6be3efb-7c9b-482a-ae9e-a22df572817e"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{PNL}]]></textFieldExpression>
							</textField>
							<textField pattern="#,##0;(#,##0)" isBlankWhenNull="true">
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" forecolor="#FF0000" backcolor="#8DB4E2" uuid="9fb8792d-3e02-4c95-bfaa-edb4c7389a24">
									<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
									<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
								</reportElement>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{PNL}.intValue() < 0 ? $V{PNL} : null]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" backcolor="#8DB4E2" uuid="5c805e8f-bbaf-4edd-b81d-a5adf64d43c9"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial" isBold="true"/>
								</textElement>
								<text><![CDATA[PnL]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 1_TD" height="30" rowSpan="1">
							<box>
								<topPen lineColor="#4F81BD"/>
								<leftPen lineColor="#4F81BD"/>
								<bottomPen lineColor="#4F81BD"/>
								<rightPen lineColor="#4F81BD"/>
							</box>
							<textField pattern="#,##0;(#,##0)" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="30" uuid="0c7f7a60-ba61-4b19-a810-2a88ac987142"/>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" size="11"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{PnL}]]></textFieldExpression>
							</textField>
							<textField pattern="#,##0;(#,##0)" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="30" forecolor="#FF0000" uuid="775e74db-0ca2-4d4d-af05-c7296fe3b2f9">
									<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
									<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
									<printWhenExpression><![CDATA[$F{PnL}.intValue()<0]]></printWhenExpression>
								</reportElement>
								<box leftPadding="4" rightPadding="4"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="Arial" size="11"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{PnL}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
		</band>
	</detail>
	<pageFooter>
		<band height="20" splitType="Stretch">
			<property name="local_mesure_unitheight" value="pixel"/>
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<textField evaluationTime="Auto">
				<reportElement positionType="Float" x="1208" y="0" width="88" height="20" uuid="a4e9b26e-a143-4523-91ef-6262d08988c7"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA["Page " + ($V{currentpage} == null? 1 : $V{currentpage} + 1) + " of " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
</jasperReport>
